<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>SDUOJ åˆ’åˆ†çŸ³å¤´é¢˜è§£ (äºŒåˆ†æŸ¥æ‰¾)</title>
    <link href="/2021/04/13/SDUOJ013/"/>
    <url>/2021/04/13/SDUOJ013/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>æµ·è¾¹æœ‰å¾ˆå¤šå¥½çœ‹çš„çŸ³å¤´ğŸª¨ï¼ŒwaræŠŠå®ƒä»¬æ”¶é›†èµ·æ¥ä¾æ¬¡æ’æˆä¸€æ’ï¼Œä¸€å…±nä¸ªï¼Œç¬¬iä¸ªçŸ³å¤´çš„é‡é‡ä¸ºw_i<em>w**i</em>ã€‚ä»–æƒ³å°†å…¶åˆ†æˆmæ®µï¼Œæ¯ä¸€æ®µè¿ç»­ï¼Œå¹¶ä¸”<strong>é‡é‡å’Œ</strong>æœ€å¤§çš„æ®µçš„<strong>å’Œæœ€å°</strong>ã€‚è¯·ä½ å¸®å¸®ä»–ï½</p><h2 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°"></a>è¾“å…¥æè¿°</h2><p>ç¬¬ä¸€è¡Œä¸ºn(1â‰¤nâ‰¤10^5)(1â‰¤<em>n</em>â‰¤105)ï¼Œm(mâ‰¤n)(<em>m</em>â‰¤<em>n</em>)ã€‚</p><p>ç¬¬äºŒè¡Œnä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°ä¸ºw_i(0â‰¤wiâ‰¤10^9)<em>w**i</em>(0â‰¤<em>w**i</em>â‰¤109)ï¼Œä¸­é—´æœ‰ç©ºæ ¼ã€‚</p><h2 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°"></a>è¾“å‡ºæè¿°</h2><p>è¾“å‡ºåªæœ‰ä¸€ä¸ªæ•°ï¼Œ<strong>é‡é‡å’Œ</strong>æœ€å¤§çš„æ®µçš„å’Œã€‚</p><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h4 id="ç®—æ³•æ•°æ®"><a href="#ç®—æ³•æ•°æ®" class="headerlink" title="ç®—æ³•æ•°æ®"></a>ç®—æ³•æ•°æ®</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>stones[0..100010]</td><td>å­˜å‚¨çŸ³å¤´çš„é‡é‡</td></tr><tr><td>maxMass</td><td>ç•Œå®šäºŒåˆ†æŸ¥æ‰¾çš„ä¸‹ç•Œ</td></tr><tr><td>inputSum</td><td>ç•Œå®šäºŒåˆ†æŸ¥æ‰¾çš„ä¸Šç•Œ</td></tr></tbody></table><h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><h4 id="äºŒåˆ†ç­”æ¡ˆï¼šæœ€å°åŒ–æœ€å¤§å€¼"><a href="#äºŒåˆ†ç­”æ¡ˆï¼šæœ€å°åŒ–æœ€å¤§å€¼" class="headerlink" title="äºŒåˆ†ç­”æ¡ˆï¼šæœ€å°åŒ–æœ€å¤§å€¼"></a>äºŒåˆ†ç­”æ¡ˆï¼šæœ€å°åŒ–æœ€å¤§å€¼</h4><p>æ ¹æ®è¾“å…¥ï¼Œç¡®å®šä¸Šè¿°ä¸Šä¸‹ç•Œï¼Œå¼€å§‹äºŒåˆ†æŸ¥æ‰¾ã€‚</p><p>åˆ¤æ–­å‡½æ•°çš„å…³é”®ï¼Œåœ¨äºè¾“å…¥ä¸€ä¸ªåˆ¤æ–­å€¼dä½œä¸ºæ¯æ®µçš„è´¨é‡ï¼Œåˆ¤æ–­å°½é‡<code>ä»¥æ­¤ä¸ºæœ€å°è´¨é‡</code>ï¼Œèƒ½å¦åˆ†å¾—<code>&lt;=m</code>æ®µã€‚å› ä¸ºå¦‚æœdè¿‡å°ï¼Œæ˜¾ç„¶åˆ†æ®µæ•°é‡è¦å¾ˆå¤§ã€‚å¦‚æœdè¶³å¤Ÿå¤§äº†ï¼Œåˆ†æ®µæ•°é‡å°±å¯ä»¥&lt;=mï¼Œé‚£ä¹ˆæ˜¾ç„¶<code>èƒ½æ»¡è¶³</code>â€œå¯ä»¥åˆ†åˆ°mæ®µâ€çš„æ¡ä»¶ã€‚</p><p>å…·ä½“å®ç°æ–¹å¼åœ¨äºï¼ŒæŒ‰é¡ºåºéå†æ‰€æœ‰çŸ³å¤´ï¼Œå¹¶è®¡ç®—å½“å‰æ®µçš„è´¨é‡å’Œã€‚å¦‚æœå½“å‰è´¨é‡å’Œ+ä¸‹ä¸€çŸ³å¤´è´¨é‡è¶…è¿‡äº†dï¼Œåˆ™åˆ†æ®µæ•°++ï¼Œå…¶ä½™é‡å½’é›¶ã€‚</p><h2 id="å…³é”®é—®é¢˜"><a href="#å…³é”®é—®é¢˜" class="headerlink" title="å…³é”®é—®é¢˜"></a>å…³é”®é—®é¢˜</h2><p>å¯ä»¥é€šè¿‡è¾“å…¥æ¥ç¡®å®šäºŒåˆ†ç­”æ¡ˆçš„ä¸Šä¸‹ç•Œï¼ŒåŠ å¿«é€Ÿåº¦ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;const int INF &#x3D; 1e9;unordered_map&lt;int, int&gt; stones;int n, m;int maxMass, inputSum;bool C(int d) &#123;int massSum &#x3D; 0, divides &#x3D; 0;for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;if (massSum + stones[i] &gt; d) &#123;divides++;massSum &#x3D; stones[i];&#125;else massSum +&#x3D; stones[i];&#125;if (divides &gt;&#x3D; m)return false;return true;&#125;void solve() &#123;int lb &#x3D; maxMass, ub &#x3D; inputSum, mid &#x3D; 0, ans &#x3D; 0;while (lb&lt;&#x3D;ub)&#123;mid &#x3D; (ub + lb) &#x2F; 2;if (C(mid)) &#123;ans &#x3D; mid;ub &#x3D; mid - 1;&#125;else lb &#x3D; mid + 1;&#125;cout &lt;&lt; ans &lt;&lt; endl;&#125;int main() &#123;&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;,&quot;r&quot;,stdin);&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);cin &gt;&gt; n &gt;&gt; m;for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;cin &gt;&gt; stones[i]; if (stones[i] &gt; maxMass)maxMass &#x3D; stones[i];inputSum +&#x3D; stones[i];&#125;solve();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>SDUOJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ TTä¸å¯æ€œçš„çŒ«é¢˜è§£ (æ°´é¢˜)</title>
    <link href="/2021/04/12/SDUOJ008/"/>
    <url>/2021/04/12/SDUOJ008/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>è‡ªä» TT æˆä¸ºäº†åŠ©æ•™ï¼Œä»–å°±çƒ­è¡·äºç»™åŒå­¦ä»¬è§£ç­”ç–‘é—®ï¼Œäºæ˜¯ä»–å°±æ²¡æœ‰æ—¶é—´è¿›è¡Œé™ªä»–çš„çŒ«çŒ«ç©äº†ï¼ŒçœŸæ˜¯ä¸€åªå¯æ€œçš„å°çŒ«ã€‚</p><p><img src="https://oj.qd.sdu.edu.cn/api/filesys/download/158001115693068325/TTandCat.png" alt="TTandCat.png"></p><p>TT åœ¨åŒä¸€æ—¶é—´ä¼šä¸å¾ˆå¤šåŒå­¦åŒæ—¶ç”¨ QQï¼ˆTTç‰¹ä¾›ç‰ˆï¼‰ è¿›è¡Œç­”ç–‘ï¼Œæœ‰æ—¶ TT <strong>å¼€å¯</strong>ä¸€ä¸ªæ–°çš„çª—å£ï¼Œå¼€å§‹ä¸€ä¸ªæ–°çš„ç­”ç–‘å¯¹è¯ï¼›æœ‰æ—¶ TT <strong>å…³é—­</strong>ä¸€ä¸ªçª—å£ï¼Œç»“æŸä¸€æ®µç­”ç–‘ï¼› æœ‰æ—¶ï¼Œä¸ºäº†åŠæ—¶å›ç­”ç€æ€¥çš„åŒå­¦ï¼ŒTTä¼šæŠŠä¸€ä¸ªå¯¹è¯çª—å£è®¾ç½®ä¸º<strong>ç½®é¡¶</strong>çŠ¶æ€ï¼ˆç½®é¡¶çŠ¶æ€æ˜¯ä¸€ç§è™šæ‹Ÿçš„çŠ¶æ€ï¼Œçª—å£çš„å®é™…ä½ç½®å¹¶ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼‰ã€‚</p><p>ä½ å¯ä»¥å°† TT çš„èŠå¤©çª—å£æƒ³è±¡æˆä¸€ä¸ªé˜Ÿåˆ—ã€‚å¦‚æœç°åœ¨æ²¡æœ‰çª—å£å¤„äº<strong>ç½®é¡¶</strong>çŠ¶æ€ï¼Œé‚£ä¹ˆåœ¨é˜Ÿåˆ—ä¸­ä½åˆ—ç¬¬ä¸€çª—å£è§†ä¸ºåœ¨<strong>é¡¶å±‚</strong>ï¼Œå¦åˆ™å¤„äº<strong>ç½®é¡¶</strong>çŠ¶æ€çš„çª—å£è§†ä¸ºåœ¨<strong>é¡¶å±‚</strong>ã€‚è¯·æ³¨æ„ï¼Œä¸å¯èƒ½åŒæ—¶å­˜åœ¨ä¸¤ä¸ªçª—å£å¤„äº<strong>ç½®é¡¶</strong>çŠ¶æ€ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¤„äºç½®é¡¶çŠ¶æ€çš„çª—å£ï¼Œè¦ä¹ˆä¸å­˜åœ¨ï¼Œè¦ä¹ˆåªæœ‰ä¸€ä¸ªï¼‰ã€‚å¦‚æœå½“å‰<strong>ç½®é¡¶</strong>çš„çª—å£è¢«å…³é—­äº†ï¼Œåˆ™å‰©ä½™é˜Ÿåˆ—ä¸­ç¬¬ä¸€çª—å£è§†ä¸ºåœ¨<strong>é¡¶å±‚</strong>ã€‚</p><p>TT ä¸ºäº†å®‰æŠšè‡ªå·±çš„çŒ«ï¼Œäºæ˜¯ç»™çŒ«çŒ«çœ‹è‡ªå·±çš„èŠå¤©è®°å½•è§£é—·ï¼Œæ ¹æ®çŒ«çŒ«çœ‹å±å¹•ä¸­çª—å£çš„æ—¶é—´ï¼ŒTT ç»™æ¯ä¸ªçª—å£åˆ†é…äº†ä¸€ä¸ª<strong>å–œçˆ±åº¦</strong>ï¼ŒTT è®¤ä¸º<strong>å–œçˆ±åº¦</strong>è¶Šé«˜ï¼ŒçŒ«çŒ«è¶Šå¼€å¿ƒã€‚ç”±äºçŒ«çŒ«å…·æœ‰ä¸ç¡®å®šçš„ç”Ÿç‰©ç‰¹æ€§ï¼Œæ‰€ä»¥æ‰€æœ‰çš„<strong>å–œçˆ±åº¦</strong>éƒ½æ˜¯<strong>ä¸åŒ</strong>çš„ã€‚</p><p>ä½œä¸º TT ç‰¹ä¾›ç‰ˆQQçš„ç ”å‘äººå‘˜ï¼Œä½ è¦è´Ÿè´£å®Œæˆçš„å·¥ä½œæ˜¯ä¸ºè½¯ä»¶è®°å½• TT çš„æ“ä½œï¼Œå½¢æˆä¸€ä¸ªæ—¥å¿—ç³»ç»Ÿã€‚æ—¥å¿—æœ‰å›ºå®šçš„è®°å½•æ ¼å¼ï¼š<code>OpId #X: MSG.</code> ï¼Œå…¶ä¸­ X<em>X</em> æ˜¯æ“ä½œçš„ç¼–å·ï¼Œè€Œ <code>MSG</code> æ˜¯æ—¥å¿—çš„æç¤ºä¿¡æ¯ï¼Œéœ€è¦ä½¿ç”¨ç‰¹å®šçš„å­—ç¬¦ä¸²è¿›è¡Œæ›¿æ¢ã€‚</p><p>TT å¯èƒ½ä¼šç”¨åˆ°çš„æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li><strong>Add u:</strong> TT æ‰“å¼€ä¸€ä¸ªå–œçˆ±åº¦ä¸º u<em>u</em> çš„æ–°çª—å£ï¼Œè‹¥ u<em>u</em> ä¸ä¸å½“å‰çª—å£é˜Ÿåˆ—ä¸­çš„æŸä¸ªçª—å£é‡å¤ï¼Œåˆ™è¯¥æ–°çª—å£å°†æ–°å»ºæˆåŠŸï¼Œå¹¶æˆä¸ºçª—å£é˜Ÿåˆ—ä¸­çš„æœ€åä¸€ä¸ªçª—å£ã€‚ å¦‚æœåˆ›å»ºæˆåŠŸï¼Œåˆ™ <code>MSG</code> è®°å½• <code>success</code>ã€‚ å¦åˆ™ï¼Œ <code>MSG</code> è®°å½• <code>same likeness </code>ã€‚</li><li><strong>Close u:</strong> TT å…³æ‰äº†ä¸€ä¸ªå–œçˆ±åº¦ä¸º u<em>u</em> çš„çª—å£ï¼Œå¦‚æœè¯¥çª—å£å­˜åœ¨ï¼Œåˆ™å°†å…¶å…³é—­ï¼Œ<code>MSG</code> è®°å½• <code>close u with c</code>ï¼Œu<em>u</em> è¡¨ç¤ºå–œçˆ±åº¦ï¼Œc<em>c</em> è¡¨ç¤ºè¯¥çª—å£ä¸Šæ¬¡æ‰“å¼€è‡³ä»Šäº¤æµçš„è¯çš„æ•°é‡ã€‚è‹¥è¯¥çª—å£ä¸å­˜åœ¨ï¼Œåˆ™<code>MSG</code> è®°å½•<code>invalid likeness</code>ã€‚</li><li><strong>Chat w:</strong> TT å’Œ<strong>é¡¶å±‚</strong>çª—å£äº¤æµäº† w<em>w</em> å¥è¯ï¼Œå¦‚æœå½“å‰é˜Ÿåˆ—ä¸­æ²¡æœ‰çª—å£ï¼Œåˆ™<code>MSG</code> è®°å½•<code>empty</code>ï¼Œå¦åˆ™è®°å½• <code>success</code>ã€‚</li><li><strong>Rotate x:</strong> å°†é˜Ÿåˆ—ä¸­ç¬¬ x<em>x</em> ä¸ªçª—å£æ”¾åœ¨é˜Ÿé¦–ï¼Œè‹¥ x<em>x</em> å¤§äºå½“å‰é˜Ÿåˆ—ä¸­çª—å£æ•°æˆ–å°äº 11 ï¼Œåˆ™<code>MSG</code> è®°å½•<code>out of range</code>ï¼Œå¦åˆ™è®°å½•<code>success</code>ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œç›®å‰é˜Ÿåˆ—ä¸­æœ‰å–œçˆ±åº¦ä¸º 5,3,2,8 çš„å››ä¸ªçª—å£ï¼ŒRotate 3 ä¹‹åï¼Œä¼šå°†å–œçˆ±åº¦ä¸º 2 çš„ç¬¬ 3 ä¸ªçª—å£æ”¾åœ¨é¦–ä½ï¼Œç»“æœä¸º 2,5,3,8ã€‚</li><li><strong>Prior:</strong> TT å°†ç›®å‰å–œçˆ±åº¦æœ€å¤§çš„çª—å£æ”¾åœ¨é˜Ÿé¦–ï¼Œå¦‚æœå½“å‰é˜Ÿåˆ—ä¸­æ²¡æœ‰çª—å£ï¼Œåˆ™<code>MSG</code> è®°å½•<code>empty</code>ï¼Œå¦åˆ™è®°å½• <code>success</code>ã€‚</li><li><strong>Choose u:</strong> TT å°†å–œçˆ±åº¦ä¸º u<em>u</em> çš„çª—å£æ”¾åœ¨é˜Ÿé¦–ï¼Œå¦‚æœå–œçˆ±åº¦ä¸º u<em>u</em> çš„çª—å£å­˜åœ¨ï¼Œåˆ™<code>MSG</code> è®°å½•<code>success</code>ï¼Œå¦åˆ™è®°å½•<code>invalid likeness</code>ã€‚</li><li><strong>Top u:</strong> TT å°†å–œçˆ±åº¦ä¸º u<em>u</em> çš„çª—å£è®¾å®šä¸º<strong>ç½®é¡¶</strong>çŠ¶æ€ï¼Œå¦‚æœå–œçˆ±åº¦ä¸º u<em>u</em> çš„çª—å£å­˜åœ¨ï¼Œåˆ™<code>MSG</code> è®°å½•<code>success</code>ï¼Œå¦åˆ™è®°å½•<code>invalid likeness</code>ã€‚æ³¨æ„ï¼Œå¤„äº<strong>ç½®é¡¶</strong>çŠ¶æ€çš„çª—å£æœ€å¤šä¸è¶…è¿‡ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨æ­¤æ¬¡è®¾å®šå‰å·²ç»æœ‰å¤„äºç½®é¡¶çŠ¶æ€çš„çª—å£ï¼Œåˆ™åŸæœ‰<strong>ç½®é¡¶</strong>çŠ¶æ€çš„çª—å£çš„<strong>ç½®é¡¶</strong>çŠ¶æ€å°†ä¼šæ¶ˆå¤±ã€‚ï¼ˆ<strong>ç½®é¡¶</strong>åªæ˜¯ä¸€ç§è™šæ‹Ÿçš„çŠ¶æ€ï¼ŒåŸçª—å£åœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼‰</li><li><strong>Untop:</strong> TT å–æ¶ˆå½“å‰å¤„äº<strong>ç½®é¡¶</strong>çŠ¶æ€çª—å£çš„<strong>ç½®é¡¶</strong>çŠ¶æ€ã€‚å¦‚æœå½“å‰æ²¡æœ‰çª—å£å¤„äº<strong>ç½®é¡¶</strong>çŠ¶æ€ï¼Œåˆ™<code>MSG</code> è®°å½•<code>no such person</code>ï¼Œå¦åˆ™è®°å½•<code>success</code>ã€‚</li></ol><p>æœ€åï¼Œç”±äºTTè¦ç»™è‡ªå·±çš„çŒ«çŒ«æ ‘ç«‹ä¸€ä¸ªè®²æ–‡æ˜æœ‰ç¤¼è²Œçš„æ¦œæ ·ï¼Œæ‰€ä»¥åœ¨ä¸Šè¿°æ“ä½œå®Œæˆåï¼Œè¿˜è¦è¿›è¡Œè‹¥å¹²æ¬¡æ“ä½œï¼Œè¿™äº›æ“ä½œæ˜¯ï¼šä¸å½“å‰é˜Ÿåˆ—ä¸­æ‰€æœ‰è¯´è¿‡è¯çš„çª—å£è¯´æ‹œæ‹œã€‚<code>MSG</code> è®°å½•<code>Bye u: c</code>ï¼Œ u<em>u</em> è¡¨ç¤ºå–œçˆ±åº¦ï¼Œc<em>c</em> è¡¨ç¤ºè¯¥çª—å£ä¸Šæ¬¡æ‰“å¼€è‡³ä»Šäº¤æµçš„è¯çš„æ•°é‡ã€‚å³ï¼šTT å…ˆå’Œä½äº<strong>é¡¶å±‚</strong>çš„çª—å£è¯´æ‹œæ‹œï¼Œç„¶åå°†å…¶å…³é—­ï¼Œå¦‚æœTTæ²¡æœ‰å’Œå½“å‰<strong>é¡¶å±‚</strong>çª—å£è¯´è¿‡è¯ï¼Œåˆ™ç›´æ¥å°†å…¶å…³é—­ï¼Œå¦‚æ­¤æ“ä½œä¸‹å»ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚</p><h2 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°"></a>è¾“å…¥æè¿°</h2><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° T (T \leq 5)<em>T</em>(<em>T</em>â‰¤5)ï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚</p><p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ª n<em>n</em>ï¼Œè¡¨ç¤ºæ‰§è¡Œçš„æ“ä½œæ•°ï¼Œå…¶ä¸­ 0&lt;n\leq 50000&lt;<em>n</em>â‰¤5000ã€‚æ¥ä¸‹æ¥ n<em>n</em> è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªæ“ä½œï¼Œä¿è¯æ‰€æœ‰è¾“å…¥æ•°æ®ä¸­çš„æ•´æ•°ä¸å¤§äº 10^9109ã€‚</p><h2 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°"></a>è¾“å‡ºæè¿°</h2><p>å¯¹äºæ¯ä¸ªæŒ‡å®šçš„æ“ä½œï¼ŒæŒ‰ç…§æ—¥å¿—çš„æ ¼å¼ï¼Œæ¯ä¸ªæ“ä½œè¡Œã€‚å¯¹äºæœ€åçš„éæŒ‡å®šæ“ä½œï¼ŒåŒæ ·æŒ‰ç…§æ—¥å¿—çš„æ ¼å¼ï¼Œæ¯ä¸ªæ“ä½œä¸€è¡Œã€‚</p><h2 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a>ç®—æ³•æ€è·¯</h2><p>æ¯”è¾ƒç®€å•çš„æ¨¡æ‹Ÿ</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;typedef long long ll;int dataGroupCnt;int opCnt;&#x2F;&#x2F;æœ¬ç»„æ“ä½œæ•°é‡string curOp;&#x2F;&#x2F;å½“å‰æ“ä½œll curArg;ll topped &#x3D; -1;deque&lt;ll&gt; windows;set&lt;ll&gt; windowsSet;unordered_map&lt;ll, ll&gt; chatsPerWindow;const char opid[] &#x3D; &quot;OpId #&quot;, col[] &#x3D; &quot;: &quot;, dot[] &#x3D; &quot;.&quot;;int main() &#123;    &#x2F;&#x2F; freopen(&quot;&#x2F;home&#x2F;linton&#x2F;Desktop&#x2F;CSP&#x2F;a.in&quot;, &quot;r&quot;, stdin);    &#x2F;&#x2F; freopen(&quot;&#x2F;home&#x2F;linton&#x2F;Desktop&#x2F;CSP&#x2F;a.out&quot;, &quot;w&quot;, stdout);    &#x2F;&#x2F; freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;, &quot;r&quot;, stdin);    &#x2F;&#x2F; freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);    cin &gt;&gt; dataGroupCnt;    while (dataGroupCnt--)    &#123;        cin &gt;&gt; opCnt;        for (int o &#x3D; 1; o &lt;&#x3D; opCnt; o++)        &#123;            cin &gt;&gt; curOp;            if (curOp &#x3D;&#x3D; &quot;Add&quot;) &#123;                scanf(&quot;%lld&quot;, &amp;curArg);                if (!windowsSet.count(curArg)) &#123;                    windowsSet.insert(curArg);                    windows.push_back(curArg);                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                &#125;                else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;same likeness&quot;, dot);            &#125;            else if (curOp &#x3D;&#x3D; &quot;Close&quot;) &#123;                scanf(&quot;%lld&quot;, &amp;curArg);                if (windowsSet.count(curArg)) &#123;                    if (topped &#x3D;&#x3D; curArg)topped &#x3D; -1;                    windowsSet.erase(curArg);                    windows.erase(find(windows.begin(), windows.end(), curArg));                    printf(&quot;%s%lld%s%s%lld%s%lld%s\n&quot;, opid, o, col, &quot;close &quot;, curArg, &quot; with &quot;, chatsPerWindow[curArg], dot);                    chatsPerWindow[curArg] &#x3D; 0;                &#125;                else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;invalid likeness&quot;, dot);            &#125;            else if (curOp &#x3D;&#x3D; &quot;Chat&quot;) &#123;                scanf(&quot;%lld&quot;, &amp;curArg);                if (topped !&#x3D; -1) &#123;                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                    chatsPerWindow[topped] +&#x3D; curArg;                &#125;                else &#123;                    if (!windows.empty()) &#123;                        printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                        chatsPerWindow[windows.front()] +&#x3D; curArg;                    &#125;                    else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;empty&quot;, dot);                &#125;            &#125;            else if (curOp &#x3D;&#x3D; &quot;Rotate&quot;) &#123;                scanf(&quot;%lld&quot;, &amp;curArg);                if (curArg &gt; windows.size()||curArg&lt;1)printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;out of range&quot;, dot);                else &#123;                    auto ite &#x3D; windows.begin();                    ite +&#x3D; curArg - 1;                    int value &#x3D; *ite;                    windows.erase(ite);                                      windows.push_front(value);                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                &#125;            &#125;            else if (curOp &#x3D;&#x3D; &quot;Prior&quot;) &#123;                if (!windows.empty()) &#123;                    int maxLikeness &#x3D; *(windowsSet.rbegin());                    auto ite &#x3D; find(windows.begin(), windows.end(), maxLikeness);                    int value &#x3D; *ite;                    windows.erase(ite);                                       windows.push_front(value);                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                &#125;                else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;empty&quot;, dot);            &#125;            else if (curOp &#x3D;&#x3D; &quot;Choose&quot;) &#123;                scanf(&quot;%lld&quot;, &amp;curArg);                if (windowsSet.count(curArg)) &#123;                    auto ite &#x3D; find(windows.begin(), windows.end(), curArg);                    int value &#x3D; *ite;                    windows.erase(ite);                                                   windows.push_front(value);                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                &#125;                else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;invalid likeness&quot;, dot);            &#125;            else if (curOp &#x3D;&#x3D; &quot;Top&quot;) &#123;                scanf(&quot;%lld&quot;, &amp;curArg);                if (windowsSet.count(curArg)) &#123;                    topped &#x3D; curArg;                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                &#125;                else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;invalid likeness&quot;, dot);            &#125;            else if (curOp &#x3D;&#x3D; &quot;Untop&quot;) &#123;                if (topped !&#x3D; -1) &#123;                    printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;success&quot;, dot);                    topped &#x3D; -1;                &#125;                else printf(&quot;%s%lld%s%s%s\n&quot;, opid, o, col, &quot;no such person&quot;, dot);            &#125;&#x2F;&#x2F;  for(auto i&#x3D; windows.begin();i!&#x3D;windows.end();i++)cout&lt;&lt;*i&lt;&lt;&quot;,&quot;&lt;&lt;chatsPerWindow[*i]&lt;&lt;&quot; &quot;;&#x2F;&#x2F;         cout&lt;&lt;endl;        &#125;        int curUser &#x3D; 0;        &#x2F;&#x2F; for(auto i&#x3D; windows.begin();i!&#x3D;windows.end();i++)cout&lt;&lt;*i&lt;&lt;&quot;,&quot;&lt;&lt;chatsPerWindow[*i]&lt;&lt;&quot; &quot;;        &#x2F;&#x2F; cout&lt;&lt;endl;        if(topped!&#x3D;-1)&#123;            if (chatsPerWindow[topped])printf(&quot;%s%lld%s%s%lld%s%lld%s\n&quot;, opid, ++opCnt, col, &quot;Bye &quot;, topped, &quot;: &quot;, chatsPerWindow[topped], dot);            windows.erase(find(windows.begin(), windows.end(), topped));        &#125;                while (!windows.empty())        &#123;            curUser &#x3D; windows.front();            if (chatsPerWindow[curUser]) printf(&quot;%s%lld%s%s%lld%s%lld%s\n&quot;, opid, ++opCnt, col, &quot;Bye &quot;, curUser, &quot;: &quot;, chatsPerWindow[curUser], dot);            windows.pop_front();        &#125;        topped &#x3D; -1;        windowsSet.clear();        chatsPerWindow.clear();    &#125;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>SDUOJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ æ—¶é—´å¤æ‚åº¦é¢˜è§£ (æ¨¡æ‹Ÿ)</title>
    <link href="/2021/04/12/SDUOJ009/"/>
    <url>/2021/04/12/SDUOJ009/</url>
    
    <content type="html"><![CDATA[<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>åˆ†æç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯è¯„ä»·ç®—æ³•æ€§èƒ½çš„é‡è¦æ–¹å¼ä¹‹ä¸€ï¼Œå¯¹äºåŒä¸€é—®é¢˜æ¥è¯´ï¼Œæ‹¥æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•å¾€å¾€æ¯”æ‹¥æœ‰å¹³æ–¹çº§åˆ«æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•è¦å¿«å¾ˆå¤šï¼Œå› æ­¤æ‹¥æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•å¾€å¾€ä¼˜äºæ‹¥æœ‰å¹³æ–¹çº§åˆ«æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ã€‚</p><p>é€šå¸¸ï¼Œå¯ä»¥æ ¹æ®è¾“å…¥nçš„å€¼ç¡®å®šç®—æ³•çš„è¿è¡Œæ—¶é—´ï¼Œnå¯ä»¥è¡¨ç¤ºè¦æ’åºçš„å¯¹è±¡æ•°ï¼Œå¤šè¾¹å½¢é¡¶ç‚¹æ•°ç­‰ç­‰ã€‚ç°ç»™å‡ºä¸€æ®µç®€æ˜“çš„ç¨‹åºï¼Œç¨‹åºè§„åˆ™å¦‚ä¸‹ï¼Œå…¶ä¸­<number>å¯ä»¥æ˜¯ä»»ä½•éè´Ÿæ•´æ•°ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-language" data-language="language"><code class="language-language">&lt; Program &gt; ::&#x3D; &quot;BEGIN&quot; &lt; Statementlist &gt; &quot;END&quot; &lt; Statementlist &gt; ::&#x3D; &lt; Statement &gt; | &lt; Statement &gt; &lt; Statementlist &gt; &lt; Statement &gt; ::&#x3D; &lt; LOOP-Statement &gt; | &lt; OP-Statement &gt; &lt; LOOP-Statement &gt; ::&#x3D; &lt; LOOP-Header &gt; &lt; Statementlist &gt; &quot;END&quot; &lt; LOOP-Header &gt; ::&#x3D; &quot;LOOP&quot; &lt; number &gt; | &quot;LOOP n&quot; &lt; OP-Statement &gt; ::&#x3D; &quot;OP&quot; &lt; number &gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>é’ˆå¯¹è¯¥è§„åˆ™ä¸‹çš„ç¨‹åºçš„è¿è¡Œæ—¶é—´å¯ä»¥å¦‚ä¸‹è®¡ç®—ï¼šæ‰§è¡ŒOPè¯­å¥æ‰€èŠ±è´¹çš„æ—¶é—´ä¸å…¶å‚æ•°æŒ‡å®šçš„æ—¶é—´ç›¸åŒï¼ˆå³ä¸ºnumberï¼‰ã€‚LOOPè¯­å¥åˆ°å…¶å¯¹åº”çš„ENDä¹‹é—´æ‰€æœ‰è¯­å¥æ‰§è¡Œçš„æ¬¡æ•°ä¸LOOPåçš„å‚æ•°ç›¸åŒï¼ˆå³ä¸ºnumberæˆ–nï¼‰ã€‚ç¨‹åºè¿è¡Œæ—¶é—´æ˜¯å…¶ç»„æˆéƒ¨åˆ†çš„æ—¶é—´æ€»å’Œã€‚å› æ­¤ï¼Œæ€»è¿è¡Œæ—¶é—´é€šå¸¸å–å†³äºnã€‚</p><h3 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><p>è¾“å…¥ä¸€æ®µç¨‹åºï¼Œç©ºæ ¼å’Œæ¢è¡Œç¬¦å¯ä»¥å‡ºç°åœ¨ç¨‹åºä¸­çš„ä»»ä½•ä½ç½®ï¼Œä½†ä¸èƒ½å‡ºç°åœ¨å…³é”®å­—BEGINï¼ŒENDï¼ŒLOOPå’ŒOPä¸­æˆ–æ•´æ•°å€¼ä¸­ã€‚LOOPçš„å¾ªç¯åµŒå¥—æ·±åº¦æœ€å¤šä¸º10ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><p>ä»¥nä¸ºå•ä½è¾“å‡ºç¨‹åºçš„è¿è¡Œæ—¶é—´ï¼Œå³è¾“å‡ºä¸€ä¸ªåŒ–ç®€åçš„Yï¼ˆY&lt;=10ï¼‰æ¬¡å¤šé¡¹å¼ï¼Œå½¢å¦‚â€œRuntime = a<em>n^10+b</em>n^9+ . . . +i<em>n^2+ j</em>n+kâ€ï¼Œè‹¥nçš„æŸä¸€é¡¹ç³»æ•°ä¸º0åˆ™ç›´æ¥çœç•¥è¯¥é¡¹,è‹¥ç³»æ•°ä¸º1åˆ™çœç•¥å…¶ç³»æ•°ã€‚<br>å¦‚æœè¿è¡Œæ—¶é—´ä¸º0ï¼Œåˆ™åªéœ€æ‰“å° â€œRuntime = 0â€ã€‚</p><h3 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h3><div class="code-wrapper"><pre class="line-numbers language-language" data-language="language"><code class="language-language">BEGIN   LOOP n     LOOP n       OP 3       OP 4       LOOP 4         OP 3       END     END   END   OP 7END<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h3><div class="code-wrapper"><pre class="line-numbers language-language" data-language="language"><code class="language-language">Runtime &#x3D; 19*n^2+7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="æ ·ä¾‹è¯´æ˜"><a href="#æ ·ä¾‹è¯´æ˜" class="headerlink" title="æ ·ä¾‹è¯´æ˜"></a>æ ·ä¾‹è¯´æ˜</h3><p>Runtime = n*(n*(3+4+4<em>3))+7=19</em>n^2+7</p><h3 id="æ•°æ®èŒƒå›´è¯´æ˜"><a href="#æ•°æ®èŒƒå›´è¯´æ˜" class="headerlink" title="æ•°æ®èŒƒå›´è¯´æ˜"></a>æ•°æ®èŒƒå›´è¯´æ˜</h3><p>LOOPå¾ªç¯åµŒå¥—æ·±åº¦&lt;=10ä¸”å…³é”®å­—æ€»æ•°ä¸è¶…è¿‡50<br>ä¸”æ‰€æœ‰è¿ç®—å‡åœ¨intèŒƒå›´å†…è¿›è¡Œ<br>å¯¹äºæµ‹è¯•ç‚¹1ï¼Œä¿è¯åªåŒ…å«OPè¯­å¥<br>å¯¹äºæµ‹è¯•ç‚¹2,3ï¼Œä¿è¯åªæœ‰ä¸€æ®µStatementlistä¸”åªæœ‰ä¸€å±‚å¾ªç¯<br>å¯¹äºæµ‹è¯•ç‚¹4ï¼Œä¿è¯åªæœ‰ä¸€æ®µStatementlist</p><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h4 id="è¾“å…¥è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„"><a href="#è¾“å…¥è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„" class="headerlink" title="è¾“å…¥è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„"></a>è¾“å…¥è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>depth</td><td>å½“å‰åµŒå¥—å±‚æ•°</td></tr><tr><td>args[0â€¦14]</td><td>ä¸‹æ ‡çš„å«ä¹‰æ˜¯nçš„å¹‚æ¬¡ã€‚è¡¨ç¤ºæœ€ç»ˆåŒ–ç®€å¼ä¸­ï¼Œå¯¹åº”nçš„æ­¤å¹‚æ¬¡çš„é¡¹ç³»æ•°ï¼ˆå¤šå¼€ä½™é‡ï¼‰</td></tr><tr><td>ops[0â€¦14]</td><td>å¯¹åº”depthçš„è¿™ä¸€å±‚çš„å¾ªç¯æ¬¡æ•°ã€‚</td></tr><tr><td>op</td><td>å½“å‰å…³é”®å­—ã€‚åŒ…æ‹¬LOOPã€BEGINã€ENDã€OPã€‚</td></tr><tr><td>op2</td><td>ç¬¬äºŒå…³é”®å­—ã€‚</td></tr><tr><td>cur_arg</td><td>å½“å‰å¤„ç†è¾“å…¥æ‰€åœ¨çš„å±‚æ•°å¾€å›èµ°ï¼Œè®°å½•ç»è¿‡çš„åµŒå¥—å±‚çš„æ‰€æœ‰å¾ªç¯æ¬¡æ•°çš„ä¹˜ç§¯ï¼ˆæŒ‡æ•°å­—ï¼Œé™¤äº†nï¼‰ã€‚</td></tr><tr><td>n_depth</td><td>å½“å‰å¤„ç†è¾“å…¥æ‰€åœ¨çš„å±‚æ•°å¾€å›èµ°ï¼Œè®°å½•ä¸€å…±ç»è¿‡äº†å¤šå°‘å±‚å¾ªç¯æ¬¡æ•°ä¸ºnçš„åµŒå¥—å±‚ã€‚</td></tr></tbody></table><h4 id="è§£ç­”è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„"><a href="#è§£ç­”è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„" class="headerlink" title="è§£ç­”è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„"></a>è§£ç­”è¿‡ç¨‹ä¸­çš„æ•°æ®ç»“æ„</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>fa</td><td>ç”¨äºæ ‡å¿—å½“å‰é¡¹æ˜¯å¦ä¸ºå¼å­çš„ç¬¬ä¸€é¡¹ï¼ˆå³å‰é¢æ— éœ€è·Ÿâ€œ+â€ï¼‰ã€‚</td></tr><tr><td>fb</td><td>ç”¨äºæ ‡å¿—æ•´ä¸ªç¨‹åºçš„å¤æ‚åº¦æ˜¯å¦å¯¹äºnçš„å„ä¸ªå¹‚æ¬¡æ¥è¯´ï¼Œéƒ½æ˜¯0.å¦‚æœå„ä¸ªå¹‚æ¬¡éƒ½æ˜¯0ï¼Œåˆ™å¯ä»¥ç›´æ¥è¾“å‡ºtime=0.</td></tr></tbody></table><h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><h4 id="å¤„ç†è¾“å…¥ï¼Œå¹¶å½“åœºå®Œæˆâ€œå¤šé¡¹å¼åŒ–ç®€â€"><a href="#å¤„ç†è¾“å…¥ï¼Œå¹¶å½“åœºå®Œæˆâ€œå¤šé¡¹å¼åŒ–ç®€â€" class="headerlink" title="å¤„ç†è¾“å…¥ï¼Œå¹¶å½“åœºå®Œæˆâ€œå¤šé¡¹å¼åŒ–ç®€â€"></a>å¤„ç†è¾“å…¥ï¼Œå¹¶å½“åœºå®Œæˆâ€œå¤šé¡¹å¼åŒ–ç®€â€</h4><p>ç»´æŠ¤depthï¼Œä¸€å¼€å§‹ä¸º0.</p><p>å¼€å§‹whileå¾ªç¯ï¼Œå½“depth=-1æ—¶ç»“æŸã€‚å› ä¸ºè¿™æ—¶è¯»å…¥äº†ç¨‹åºç»“æŸçš„é‚£ä¸ªENDã€‚</p><p>æ¯æ¬¡å¤„ç†æ—¶ï¼Œåˆ†ä¸‰ç§æƒ…å†µã€‚</p><p>å¦‚æœè¯»å…¥ENDï¼Œåˆ™depthâ€“å³å¯ã€‚å› ä¸ºENDäº†ï¼Œä¸‹ä¸€æ¬¡å†å¤„ç†è¯»å…¥æ—¶ï¼Œå°±ä»ä¸Šä¸€çº§åšå³å¯ã€‚</p><p>å¦‚æœè¯»å…¥LOOPï¼Œåˆ™è‹¥nï¼Œè®°å½•å½“å‰depthçš„opsä¸º-1ï¼Œå¦åˆ™ä¸ºæ“ä½œæ•°ã€‚å³æŠŠè¿™å±‚å¾ªç¯çš„æ¬¡æ•°è®°å½•ä¸‹æ¥ã€‚</p><p>å¦‚æœè¯»å…¥OPï¼Œåˆ™åˆå§‹åŒ–cur_argå’Œn_depthï¼Œä»å®ƒçš„ä¸Šå±‚(å³depth-1)å¼€å§‹å¾ªç¯ï¼Œä¸€ç›´åˆ°0å±‚ï¼Œè€ƒå¯Ÿæœ¬å±‚çš„å¾ªç¯æ¬¡æ•°ã€‚å¦‚æœä¸ºnåˆ™n_depth++ï¼Œå¦åˆ™cur_argç›´æ¥ä¹˜å¾ªç¯æ¬¡æ•°ã€‚æœ€åå¤„ç†n_depthï¼Œå³è®©nå¹‚æ¬¡ä¸ºn_depthçš„ç³»æ•°åŠ ä¸Šåˆšæ‰çš„cur_arg*æ“ä½œæ•°å³å¯ã€‚è¿™æ ·å°±ç«™åœ¨æŸä¸ªå¹‚æ¬¡çš„nçš„è§’åº¦ï¼Œæ›´æ–°äº†å…¶å‰é¢çš„ç³»æ•°ã€‚</p><h4 id="å¤„ç†å‰é¢åŒ–ç®€å¥½çš„nçš„å„æ¬¡å¹‚çš„ç³»æ•°ï¼Œå¹¶æŒ‰å¹‚æ¬¡ä»é«˜åˆ°ä½è¾“å‡º"><a href="#å¤„ç†å‰é¢åŒ–ç®€å¥½çš„nçš„å„æ¬¡å¹‚çš„ç³»æ•°ï¼Œå¹¶æŒ‰å¹‚æ¬¡ä»é«˜åˆ°ä½è¾“å‡º" class="headerlink" title="å¤„ç†å‰é¢åŒ–ç®€å¥½çš„nçš„å„æ¬¡å¹‚çš„ç³»æ•°ï¼Œå¹¶æŒ‰å¹‚æ¬¡ä»é«˜åˆ°ä½è¾“å‡º"></a>å¤„ç†å‰é¢åŒ–ç®€å¥½çš„nçš„å„æ¬¡å¹‚çš„ç³»æ•°ï¼Œå¹¶æŒ‰å¹‚æ¬¡ä»é«˜åˆ°ä½è¾“å‡º</h4><p>ç»´æŠ¤faï¼Œfbï¼Œéƒ½å…ˆåˆå§‹åŒ–ä¸º0.</p><p>å¾ªç¯11æ¬¡ï¼ˆå› ä¸ºå¹‚æ¬¡å–å€¼èŒƒå›´æ˜¯0â€¦10ï¼‰ï¼Œæ¯æ¬¡å¾ªç¯å…ˆæ£€æŸ¥args[i]æ˜¯å¦ä¸º0ï¼š</p><p>å¦‚æœä¸º0è¯´æ˜è¿™ä¸€é¡¹ä¸å­˜åœ¨ï¼ˆå› ä¸ºç³»æ•°æ˜¯0ï¼‰ï¼Œè·³è¿‡ã€‚</p><p>å¦‚æœä¸ä¸º0è¯´æ˜è¿™ä¸€é¡¹çš„ç³»æ•°å°±æ˜¯args[i]ã€‚</p><p>args[i]ä¸ä¸ºé›¶ï¼Œè¿›å…¥æ‰“å°çš„è¿‡ç¨‹ï¼šå…ˆæŠŠfbç½®1ã€‚</p><p>æ¯æ¬¡æ‰“å°ï¼Œåˆ†faä¸º1å’Œä¸º0ä¸¤ç§æƒ…å†µã€‚å¦‚æœä¸º0ï¼Œåˆ™æ‰“å°æ—¶åŠ ä¸ªâ€œ+â€ï¼Œå¦åˆ™ä¸åŠ ã€‚å½“ç„¶æ¯æ¬¡æ‰“å°å¦‚æœfa=0ï¼Œåˆ™ç«‹å³ç½®1.</p><p>æ‰“å°åªéœ€è¦å¯¹i==0ã€i==1ä¸¤ç§æƒ…å†µè¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚å‰è€…æ˜¯nä¸åŠ â€^â€,åè€…æ˜¯ä¸å«nã€‚</p><p>èµ°å®Œ11æ¬¡å¾ªç¯ï¼Œå¦‚æœfbä»ä¸º0ï¼Œåˆ™å•ç‹¬å¤„ç†ï¼Œè¾“å‡ºtime=0å³å¯ã€‚</p><h2 id="å…³é”®é—®é¢˜"><a href="#å…³é”®é—®é¢˜" class="headerlink" title="å…³é”®é—®é¢˜"></a>å…³é”®é—®é¢˜</h2><p>åƒä¸‡ä¸èƒ½å»æ¨¡æ‹Ÿæ‰‹åŠ¨åŒ–ç®€å¤šé¡¹å¼çš„è¿‡ç¨‹ã€‚å¦åˆ™éå¸¸éº»çƒ¦ã€‚</p><p>åœ¨è¾“å…¥çš„è¿‡ç¨‹ä¸­ç›´æ¥é’ˆå¯¹nçš„å„ä¸ªå¹‚æ¬¡è®¡ç®—ä»–ä»¬çš„ç³»æ•°ï¼Œé«˜æ•ˆè€Œç²¾å¦™ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;int ops[15];int args[15];string op, op2;int fa, fb;int depth;int cur_arg, n_depth;int sti(string str)&#123;int res &#x3D; 0;for (int i &#x3D; 0; i &lt; str.length(); i++)res &#x3D; res * 10 + str[i] - &#39;0&#39;;return res;&#125;void solve() &#123;cout &lt;&lt; &quot;Runtime &#x3D; &quot;;fa &#x3D; fb &#x3D; 0;for (int i &#x3D; 11; i &gt;&#x3D; 0; i--)&#123;if (args[i] &#x3D;&#x3D; 0)continue;else &#123;fb &#x3D; 1;if (i &#x3D;&#x3D; 0)&#123;if (fa &#x3D;&#x3D; 0)&#123;fa &#x3D; 1;cout &lt;&lt; args[i];&#125;else cout &lt;&lt; &quot;+&quot; &lt;&lt; args[i];&#125;else if (i &#x3D;&#x3D; 1)&#123;if (fa &#x3D;&#x3D; 0)&#123;fa &#x3D; 1;if (args[i] !&#x3D; 1) cout &lt;&lt; args[i] &lt;&lt; &quot;*n&quot;;else cout &lt;&lt; &quot;n&quot;;&#125;else&#123;if (args[i] !&#x3D; 1) cout &lt;&lt; &quot;+&quot; &lt;&lt; args[i] &lt;&lt; &quot;*n&quot;;else cout &lt;&lt; &quot;+n&quot;;&#125;&#125;else&#123;if (fa &#x3D;&#x3D; 0)&#123;fa &#x3D; 1;if (args[i] !&#x3D; 1)cout &lt;&lt; args[i] &lt;&lt; &quot;*n^&quot; &lt;&lt; i;else cout &lt;&lt; &quot;n^&quot; &lt;&lt; i;&#125;else&#123;if (args[i] !&#x3D; 1) cout &lt;&lt; &quot;+&quot; &lt;&lt; args[i] &lt;&lt; &quot;*n^&quot; &lt;&lt; i;else cout &lt;&lt; &quot;+n^&quot; &lt;&lt; i;&#125;&#125;&#125;&#125;if (fb &#x3D;&#x3D; 0)cout &lt;&lt; 0;puts(&quot;\n&quot;);&#125;int main()&#123;&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;, &quot;r&quot;, stdin);&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);ios::sync_with_stdio(false);cin &gt;&gt; op;depth &#x3D; 0;memset(args, 0, sizeof(args));while (depth !&#x3D; -1)&#123;cin &gt;&gt; op;if (op &#x3D;&#x3D; &quot;LOOP&quot;)&#123;cin &gt;&gt; op2;if (op2 &#x3D;&#x3D; &quot;n&quot;) ops[depth++] &#x3D; -1;else ops[depth++] &#x3D; sti(op2);&#125;else if (op &#x3D;&#x3D; &quot;END&quot;)depth--;else if (op &#x3D;&#x3D; &quot;OP&quot;)&#123;cin &gt;&gt; op2;cur_arg &#x3D; 1;n_depth &#x3D; 0;for (int j &#x3D; depth - 1; j &gt;&#x3D; 0; j--)&#123;if (ops[j] &#x3D;&#x3D; -1)n_depth++;else cur_arg &#x3D; cur_arg * ops[j];&#125;args[n_depth] &#x3D; args[n_depth] + cur_arg * sti(op2);&#125;&#125;solve();return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>SDUOJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ å…¬è·¯ä¿®å»ºé¢˜è§£ (å¹¶æŸ¥é›†)</title>
    <link href="/2021/04/12/SDUOJ010/"/>
    <url>/2021/04/12/SDUOJ010/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>ä½ ç°åœ¨æ˜¯åŸå¸‚çš„ä¸»äºº<br>ç°åœ¨æœ‰ n<em>n</em> ä¸ªæ‘åº„ï¼Œè¦ä¿®å»º m<em>m</em> æ¡è·¯ï¼Œæ¯ä¿®å»ºä¸€æ¡è·¯ï¼Œé“è·¯æ˜¯åŒå‘çš„ï¼Œè¾“å‡ºè‡³å°‘è¿˜éœ€è¦ä¿®å»ºå‡ æ¡ï¼Œå¯ä»¥è®©æ‰€æœ‰æ‘åº„äº’ç›¸å¯è¾¾ã€‚<br>ä¸€å¼€å§‹è·¯ä¸º 00 æ¡</p><p>æ•°æ®ä¿è¯æœ‰è§£</p><h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•° n,m<em>n</em>,<em>m</em> , 0\le n,m\le10^50â‰¤<em>n</em>,<em>m</em>â‰¤105<br>æ¥ä¸‹æ¥æœ‰ m<em>m</em> è¡Œï¼Œæ¯è¡Œ a,b<em>a</em>,<em>b</em> ä»£è¡¨ä¿®å»ºäº†ä¸€æ¡ä»ç¬¬ a<em>a</em> ä¸ªæ‘åº„ï¼Œåˆ°ç¬¬ b<em>b</em> ä¸ªæ‘åº„çš„è·¯ã€‚<br>1\le a,b\le n1â‰¤<em>a</em>,<em>b</em>â‰¤<em>n</em><br>a<em>a</em> å’Œ b<em>b</em> å¯èƒ½ç›¸åŒã€‚</p><h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>ä¸€å…± m<em>m</em> è¡Œï¼Œç¬¬ i<em>i</em> ä¸ªæ•°ä»£è¡¨å·²ç»ä¿®å»ºäº†å‰ i<em>i</em> æ¡è·¯æ—¶ï¼Œæœ€å°‘è¿˜éœ€è¦ä¿®å»ºå‡ æ¡ï¼Œå¯ä»¥è®©æ‰€æœ‰æ‘åº„äº’ç›¸å¯è¾¾ã€‚</p><h2 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">5 51 11 22 34 41 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">43222<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>parent[0â€¦100005]</td><td>å¹¶æŸ¥é›†çš„å„ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚</td></tr><tr><td>sets</td><td>å½“å‰å­˜åœ¨çš„é›†åˆï¼ˆç­‰ä»·ç±»ï¼‰ä¸ªæ•°ã€‚</td></tr></tbody></table><h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><h4 id="åˆ©ç”¨å¹¶æŸ¥é›†ç¡®å®šç­‰ä»·ç±»ä¸ªæ•°"><a href="#åˆ©ç”¨å¹¶æŸ¥é›†ç¡®å®šç­‰ä»·ç±»ä¸ªæ•°" class="headerlink" title="åˆ©ç”¨å¹¶æŸ¥é›†ç¡®å®šç­‰ä»·ç±»ä¸ªæ•°"></a>åˆ©ç”¨å¹¶æŸ¥é›†ç¡®å®šç­‰ä»·ç±»ä¸ªæ•°</h4><p>è‹¥ä¸¤ä¸ªæ‘åº„è”é€šï¼Œåˆ™å®ƒä»¬å¿…ç„¶å±äºåŒä¸€ä¸ª<code>ç­‰ä»·ç±»</code>ã€‚</p><p>å¯¹äºæ¯ä¸ªè¾“å…¥ï¼Œå°±å¯¹ä¸¤ä¸ªæ‘åº„æ‰€åœ¨é›†åˆè¿›è¡Œåˆå¹¶ã€‚æ¯æ¬¡åˆå¹¶è®©setsâ€“å³å¯ã€‚</p><p>æ¯æ¬¡è¾“å‡ºå½“å‰setså€¼å³å¯ã€‚</p><h2 id="å…³é”®é—®é¢˜"><a href="#å…³é”®é—®é¢˜" class="headerlink" title="å…³é”®é—®é¢˜"></a>å…³é”®é—®é¢˜</h2><p>éœ€è¦è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œå¦åˆ™ä¼š<code>TLE</code>ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">int getParent(int i) &#123;    if (parent[i] &#x3D;&#x3D; i)return i;    return getParent(parent[i] &#x3D; parent[parent[i]]);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>å¸¦æœ‰è·¯å¾„å‹ç¼©çš„getParent,å³åœ¨æ¯æ¬¡é€’å½’è°ƒç”¨æ—¶è¿›è¡Œå‹ç¼©.</p><p>ä»¥ä¸ä»£è¡¨å…ƒç›´æ¥é‚»æ¥çš„ä¸´æ¥çš„ç‚¹ä¸ºä¾‹,åˆ™å®ƒçš„<code>parent[parent[i]]</code>å°±æ˜¯å®ƒçš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹,ä¹Ÿå°±æ˜¯ä»£è¡¨å…ƒèŠ‚ç‚¹.ç›¸å½“äºæŠŠå®ƒçš„çˆ¶èŠ‚ç‚¹å˜æˆäº†ä»£è¡¨å…ƒèŠ‚ç‚¹.</p><p>å…¶ä½™èŠ‚ç‚¹éƒ½æŒ‰ç±»ä¼¼çš„æ–¹å¼å¾€ä»£è¡¨å…ƒèŠ‚ç‚¹é è¿‘ä¸€æ­¥.æ•´æ£µå¹¶æŸ¥é›†æ ‘å°±<code>å˜æ‰äº†</code>.</p><p>ä»¥æ­¤ç§æ–¹å¼è¿›è¡Œè·¯å¾„å‹ç¼©,å¯ä»¥è¾¾åˆ°æ ‘é«˜åº¦=1çš„ç»“æœ.</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;typedef long long ll;const int MOD &#x3D; 1000000007;int n, m, sets, reqA, reqB;int parent[100005];int getParent(int i) &#123;    if (parent[i] &#x3D;&#x3D; i)return i;    return getParent(parent[i] &#x3D; parent[parent[i]]);&#125;void merge(int a, int b) &#123;    int p1 &#x3D; getParent(a);    int p2 &#x3D; getParent(b);    if (p1 !&#x3D; p2) &#123;        parent[p1] &#x3D; p2;        sets--;    &#125;&#125;void solve() &#123;    sets &#x3D; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)parent[i] &#x3D; i;    for (int i &#x3D; 1; i &lt;&#x3D; m; i++) &#123;        scanf(&quot;%d %d&quot;, &amp;reqA, &amp;reqB);        merge(reqA, reqB);        cout &lt;&lt; sets - 1 &lt;&lt; endl;    &#125;&#125;int main() &#123;    &#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;, &quot;r&quot;, stdin);    &#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);    cin &gt;&gt; n &gt;&gt; m;    solve();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>SDUOJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ æ°´æ¸ è®¾è®¡é¢˜è§£ (è´ªå¿ƒã€æœ€å°ç”Ÿæˆæ ‘)</title>
    <link href="/2021/04/12/SDUOJ012/"/>
    <url>/2021/04/12/SDUOJ012/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>ä½ ç°åœ¨æ˜¯åŸå¸‚çš„ä¸»äºº<br>ç°åœ¨æœ‰ n<em>n</em> ä¸ªç”°åœ°éœ€è¦çŒæº‰ã€‚<br>å¯ä»¥é€‰æ‹©ä¿®å»º m<em>m</em> ä¸ªå¼•æ°´æ¸ ï¼Œç¬¬ i<em>i</em> æ¡ä»ç¬¬ a<em>a</em> ä¸ªç”°åœ°åˆ°ç¬¬ b<em>b</em> ä¸ªç”°åœ°ï¼ŒèŠ±è´¹ c<em>c</em> å…ƒã€‚<br>ç°åœ¨å¯ä»¥ä¹°ä»»æ„å¤šä¸ªæŠ½æ°´æœºï¼Œä¹°ä¸€ä¸ªæŠ½æ°´æœºéœ€è¦èŠ±è´¹ p<em>p</em> å…ƒã€‚å¦‚æœåœ¨ä¸€ä¸ªç”°åœ°æ—è¾¹å®‰ç½®ä¸€ä¸ªæŠ½æ°´æœºï¼Œåˆ™è¯¥ç”°åœ°ä¼šè¢«çŒæº‰ã€‚<br>æ°´å¯ä»¥é¡ºç€æ°´æ¸ æµåŠ¨ã€‚<br>æ±‚è®©æ¯ä¸€å—ç”°åœ°éƒ½èƒ½è¢«çŒæº‰çš„æœ€å°èŠ±è´¹ã€‚</p><h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•´æ•° n,m,p<em>n</em>,<em>m</em>,<em>p</em> , 0\le n,m\le10^5,p\le 10^90â‰¤<em>n</em>,<em>m</em>â‰¤105,<em>p</em>â‰¤109<br>æ¥ä¸‹æ¥æœ‰ m<em>m</em> è¡Œï¼Œæ¯è¡Œ a,b,c<em>a</em>,<em>b</em>,<em>c</em> ä»£è¡¨ä¿®å»ºäº†ä¸€æ¡ä»ç¬¬ a<em>a</em> ä¸ªç”°åœ°ï¼Œåˆ°ç¬¬ b<em>b</em> ä¸ªç”°åœ°çš„æ°´æ¸ ï¼ŒèŠ±è´¹ c<em>c</em> å…ƒã€‚<br>1\le a,b\le n1â‰¤<em>a</em>,<em>b</em>â‰¤<em>n</em>ï¼Œc&lt;=10^9<em>c</em>&lt;=109</p><h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>è¾“å‡ºä¸€ä¸ªæ•°è¡¨ç¤ºç­”æ¡ˆã€‚</p><h2 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">5 5 21 2 12 3 33 4 51 3 21 4 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h4 id="Edgeç»“æ„ä½“"><a href="#Edgeç»“æ„ä½“" class="headerlink" title="Edgeç»“æ„ä½“"></a>Edgeç»“æ„ä½“</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>v1,v2</td><td>~</td></tr><tr><td>val</td><td>~</td></tr><tr><td>é‡è½½è¿ç®—ç¬¦&lt;</td><td>ä¾¿äºå †æ’åºï¼Œæ¯æ¬¡å–æœ€å°è¾¹</td></tr></tbody></table><h4 id="ç®—æ³•æ•°æ®"><a href="#ç®—æ³•æ•°æ®" class="headerlink" title="ç®—æ³•æ•°æ®"></a>ç®—æ³•æ•°æ®</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>edgeså †</td><td>kurskalç”¨</td></tr><tr><td>parent[0â€¦100005]</td><td>å¹¶æŸ¥é›†ç”¨</td></tr><tr><td>sets</td><td>å½“å‰ç­‰ä»·ç±»çš„ä¸ªæ•°</td></tr></tbody></table><h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><h4 id="kruskalä¸­çš„è´ªå¿ƒ"><a href="#kruskalä¸­çš„è´ªå¿ƒ" class="headerlink" title="kruskalä¸­çš„è´ªå¿ƒ"></a>kruskalä¸­çš„è´ªå¿ƒ</h4><p>æ­£å¸¸ä½¿ç”¨ã€‚ä½†æ˜¯ä¸ºäº†ä¿è¯æˆæœ¬æœ€ä½ï¼Œéœ€è¦è´ªå¿ƒã€‚</p><p>æ¯æ¬¡æ“ä½œï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼Œå…¶ä¸€æ˜¯å¢åŠ ä¸€å…±è¾¹ï¼Œè®©å½“å‰çš„æ ‘é•¿å¤§ï¼›å¦ä¸€ç§é€‰æ‹©å°±æ˜¯ä¿æŒåŸæ¥çš„æ£®æ—ã€‚å‰è€…çš„æˆæœ¬æ˜¯ä¿®è·¯çš„ä»·æ ¼ï¼Œåè€…çš„æˆæœ¬æ˜¯ä¸€ä¸ªæŠ½æ°´æœºçš„ä»·æ ¼ã€‚é‚£ä¹ˆå¦‚æœä¿®è·¯æ¯”æŠ½æ°´æœºä¾¿å®œå°±ä¿®è·¯ï¼Œå¦åˆ™åä¹‹ã€‚</p><p>ä¿®è·¯è¦ç»´æŠ¤setå’Œres(ç­”æ¡ˆ)ï¼šæ¯æ¬¡ä¿®è·¯ï¼Œsetéƒ½â€“ï¼Œå¹¶ä¸”æ›´æ–°ç­”æ¡ˆå³å¯ã€‚</p><p>æœ€åç»Ÿè®¡setä¸ªæ•°ï¼Œå°±æ˜¯æŠ½æ°´æœºä¸ªæ•°ã€‚è®©ç­”æ¡ˆå†åŠ æŠ½æ°´æœºä¸ªæ•°*ä»·æ ¼ã€‚</p><h2 id="å…³é”®é—®é¢˜"><a href="#å…³é”®é—®é¢˜" class="headerlink" title="å…³é”®é—®é¢˜"></a>å…³é”®é—®é¢˜</h2><p>è™½ç„¶è¾“å…¥çš„æ•°æ®åœ¨intèŒƒå›´å†…ï¼Œä½†æ˜¯å®ƒéœ€è¦ä¸å…¶ä»–æ•°æ®ç›¸ä¹˜ã€‚è¿™æ ·å°±ä¼šçˆ†intã€‚å› æ­¤éƒ½è¦ç”¨long longã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;typedef long long ll;const int MOD &#x3D; 1000000007;struct Edge&#123;    int v1, v2, val;    Edge(int v1_,int v2_,int val_) :v1(v1_), v2(v2_), val(val_)&#123;&#125;;    bool operator&lt;(const Edge&amp; e)const &#123;        return val &gt; e.val;    &#125;;&#125;;int n, m, a, b, c, sn, sets;ll p;int parent[100005];priority_queue&lt;Edge&gt; edges;int getParent(int i) &#123;    if (parent[i] &#x3D;&#x3D; i)return i;    return getParent(parent[i] &#x3D; parent[parent[i]]);&#125;void merge(int a, int b) &#123;    int p1 &#x3D; getParent(a);    int p2 &#x3D; getParent(b);    if (p1 !&#x3D; p2) &#123;         parent[p1] &#x3D; p2;         sets--;    &#125;&#125;void kruskal() &#123;    ll res &#x3D; 0;    while (!edges.empty()) &#123;        Edge e &#x3D; edges.top();        edges.pop();        int par1 &#x3D; getParent(e.v1), par2 &#x3D; getParent(e.v2);        if (par1 !&#x3D; par2 &amp;&amp; e.val &lt; p) &#123;            merge(e.v1, e.v2);            res +&#x3D; e.val;        &#125;    &#125;    res +&#x3D; sets * p;    cout &lt;&lt; res &lt;&lt; endl;&#125;int main() &#123;    &#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;, &quot;r&quot;, stdin);    &#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);    cin &gt;&gt; n &gt;&gt; m &gt;&gt; p;    while (m--) &#123;        scanf(&quot;%d%d%d&quot;, &amp;a, &amp;b, &amp;c);        edges.emplace(a, b, c);    &#125;    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)parent[i] &#x3D; i;    sets &#x3D; n;    kruskal();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>SDUOJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ ç½‘ç»œé“ºè®¾é¢˜è§£ (BFSé“¾å¼å‰å‘æ˜Ÿ)</title>
    <link href="/2021/04/12/SDUOJ011/"/>
    <url>/2021/04/12/SDUOJ011/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>ä½ ç°åœ¨æ˜¯åŸå¸‚çš„ä¸»äºº<br>ç°åœ¨æœ‰ n<em>n</em> ä¸ªæ‘åº„ï¼Œå·²ç»ä¿®å»ºäº† n-1<em>n</em>âˆ’1 æ¡é“è·¯ï¼Œä½¿å¾—å„ä¸ªæ‘åº„ä½œä¸ºèŠ‚ç‚¹ï¼Œè·¯ä½œä¸ºè¾¹ï¼Œæ„æˆä¸€æ£µæ ‘ã€‚<br>å‡è®¾ç¬¬ a<em>a</em> ä¸ªæ‘åº„åˆ°ç¬¬ b<em>b</em> ä¸ªæ‘åº„æœ‰è·¯ç›¸è¿ï¼Œåˆ™ä» a<em>a</em> èµ°åˆ° b<em>b</em> æˆ–è€…ä» b<em>b</em> èµ°åˆ° a<em>a</em> éœ€è¦èµ° 1\text{m}1m ã€‚</p><p>ä½ éœ€è¦è¾“å‡º n<em>n</em> ä¸ªæ•°ï¼Œç¬¬ i<em>i</em> ä¸ªæ•°ä»£è¡¨ä»ç¬¬ i<em>i</em> ä¸ªæ‘åº„å‡ºå‘ï¼Œè·ç¦»ä»–æœ€è¿œçš„æ‘åº„çš„è·ç¦»</p><h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° n<em>n</em> , 0\le n\le10^50â‰¤<em>n</em>â‰¤105<br>æ¥ä¸‹æ¥æœ‰ n-1<em>n</em>âˆ’1 è¡Œï¼Œæ¯è¡Œ a,b<em>a</em>,<em>b</em> ä»£è¡¨ç¬¬ a<em>a</em> ä¸ªæ‘åº„ï¼Œåˆ°ç¬¬ b<em>b</em> ä¸ªæ‘åº„æœ‰ä¸€æ¡è·¯ã€‚<br>1\le a,b\le 10^51â‰¤<em>a</em>,<em>b</em>â‰¤105</p><p>ä¿è¯è¾“å…¥ç»“æ„æ˜¯ä¸€æ£µæ ‘</p><h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>è¾“å‡ºä¸€è¡Œ n<em>n</em> ä¸ªæ•°ï¼Œè¡¨ç¤ºç­”æ¡ˆ</p><h2 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">55 11 22 33 4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">3 2 3 4 4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h4 id="nodeç»“æ„ä½“"><a href="#nodeç»“æ„ä½“" class="headerlink" title="nodeç»“æ„ä½“"></a>nodeç»“æ„ä½“</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>next</td><td>é“¾è¡¨èŠ‚ç‚¹çš„nextåŸŸ</td></tr><tr><td>num</td><td>èŠ‚ç‚¹ç¼–å·</td></tr></tbody></table><h4 id="é“¾å¼å‰å‘æ˜Ÿçš„æ•°æ®"><a href="#é“¾å¼å‰å‘æ˜Ÿçš„æ•°æ®" class="headerlink" title="é“¾å¼å‰å‘æ˜Ÿçš„æ•°æ®"></a>é“¾å¼å‰å‘æ˜Ÿçš„æ•°æ®</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>sn</td><td>æœ€è¿‘æ–°å»ºçš„nodeåœ¨ç”³è¯·ç©ºé—´ä¸­çš„ä¸‹æ ‡</td></tr><tr><td>storage[0â€¦300002]</td><td>å­˜å‚¨æ‰€æœ‰çš„é“¾è¡¨èŠ‚ç‚¹</td></tr><tr><td>nodes[0â€¦105001]</td><td>å­˜å‚¨æ‰€æœ‰çš„å¤´èŠ‚ç‚¹</td></tr></tbody></table><h4 id="ç®—æ³•æ•°æ®"><a href="#ç®—æ³•æ•°æ®" class="headerlink" title="ç®—æ³•æ•°æ®"></a>ç®—æ³•æ•°æ®</h4><table><thead><tr><th>æ ‡è¯†ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>max1[0..105001]</td><td>ä»ç¬¬ä¸€ä¸ªæœ€å¤§çš„ç‚¹åˆ°å„ä¸ªç‚¹çš„è·ç¦»</td></tr><tr><td>max2[0..105001]</td><td>ä»ç¬¬äºŒä¸ªæœ€å¤§çš„ç‚¹åˆ°å„ä¸ªç‚¹çš„è·ç¦»</td></tr></tbody></table><h2 id="ç®—æ³•è®¾è®¡"><a href="#ç®—æ³•è®¾è®¡" class="headerlink" title="ç®—æ³•è®¾è®¡"></a>ç®—æ³•è®¾è®¡</h2><h4 id="æ„å»ºé“¾å¼å‰å‘æ˜Ÿ"><a href="#æ„å»ºé“¾å¼å‰å‘æ˜Ÿ" class="headerlink" title="æ„å»ºé“¾å¼å‰å‘æ˜Ÿ"></a>æ„å»ºé“¾å¼å‰å‘æ˜Ÿ</h4><p>å…ˆåœ¨nodesæ•°ç»„ä¸­åˆå§‹åŒ–nä¸ªåŸŸï¼Œè¡¨ç¤ºnä¸ªå›¾èŠ‚ç‚¹ã€‚</p><p>ä¸ºä»–ä»¬åˆ†åˆ«<code>å®‰æ’å“¨å…µ</code>ï¼šè®©æ‰€æœ‰çš„å¤´èŠ‚ç‚¹çš„nextéƒ½ä¸ºnum=-1ï¼Œnext=-1.ï¼ˆä»¥åå¦‚æœè¦å¾€è¿™ä¸ªé“¾ä¸Šæ’å…¥æ–°ç‚¹ï¼Œéƒ½æ˜¯è¦åœ¨å¤´èŠ‚ç‚¹å’Œå¤´èŠ‚ç‚¹çš„nextä¹‹é—´æ’å…¥ï¼Œè¿™æ ·å¤æ‚åº¦æœ€ä½ã€‚<code>æˆ‘ä»¬å“¨å…µçš„ä½œç”¨æ˜¯æ— éœ€å•ç‹¬å¤„ç†è¿™æ¡é“¾ä¸ºç©ºçš„æƒ…å†µã€‚</code>ï¼‰</p><p>å†™å¥½æ„å»ºå•å‘è¾¹çš„å‡½æ•°ï¼š<code>è®©sn++ï¼Œä»£è¡¨ç”³è¯·å†…å­˜ç©ºé—´</code>ï¼Œç„¶åæŒ‰é“¾è¡¨çš„æ–¹å¼æ“ä½œå³å¯ã€‚æ³¨æ„éµå¾ªé“¾å¼å‰å‘æ˜Ÿçš„æ’å…¥æ–¹æ³•ï¼šå³å¤´èŠ‚ç‚¹å’Œå…¶nextä¹‹é—´ã€‚</p><p>å†™å¥½æ„å»ºåŒå‘è¾¹çš„å‡½æ•°ï¼šä¸¤æ¬¡è°ƒç”¨ä¸Šè¿°å‡½æ•°ã€‚</p><h4 id="å››æ¬¡BFSè§£å†³é—®é¢˜"><a href="#å››æ¬¡BFSè§£å†³é—®é¢˜" class="headerlink" title="å››æ¬¡BFSè§£å†³é—®é¢˜"></a>å››æ¬¡BFSè§£å†³é—®é¢˜</h4><p>è¿™é‡ŒBFSéœ€è¦é¢å¤–åŠ ä¸€ä¸ªæ“ä½œï¼šæ¯æ¬¡BFSæ–°èŠ‚ç‚¹å…¥é˜Ÿæ—¶ï¼Œè®°å½•æ–°èŠ‚ç‚¹çš„è·ç¦»æ˜¯å½“å‰èŠ‚ç‚¹çš„+1.</p><h2 id="å…³é”®é—®é¢˜"><a href="#å…³é”®é—®é¢˜" class="headerlink" title="å…³é”®é—®é¢˜"></a>å…³é”®é—®é¢˜</h2><p>æ— ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;typedef long long ll;const int MOD &#x3D; 1000000007;struct Node&#123;    int next;    int num;    Node() :next(-1), num(-1) &#123;&#125;;&#125;;int n, iv1, iv2, sn;int max1[105001], max2[105001];Node storage[300002];Node nodes[105001];void createEdge(int v1, int v2) &#123;    int newNode &#x3D; ++sn;    storage[newNode].num &#x3D; v2;    storage[newNode].next &#x3D; nodes[v1].next;    nodes[v1].next &#x3D; newNode;&#125;void addNewEdge(int v1, int v2) &#123;    createEdge(v1, v2);    createEdge(v2, v1);&#125;int bfs(int start,bool mode,bool key) &#123;    int cur &#x3D; nodes[start].next;    int last &#x3D; start;    queue&lt;int&gt; q;    set&lt;int&gt; vis;    while (storage[cur].next!&#x3D;-1)    &#123;        q.push(storage[cur].num);        cur &#x3D; storage[cur].next;    &#125;    while (!q.empty())    &#123;        int theNum &#x3D; q.front();        q.pop();        vis.insert(theNum);        last &#x3D; theNum;        cur &#x3D; nodes[theNum].next;        while (storage[cur].next !&#x3D; -1)        &#123;            if (!vis.count(storage[cur].num)) &#123;                q.push(storage[cur].num);                 if (mode)key ? max1[storage[cur].num] &#x3D; max1[theNum] + 1 : max2[storage[cur].num] &#x3D; max2[theNum] + 1;            &#125;            cur &#x3D; storage[cur].next;        &#125;    &#125;    return last;&#125;void solve() &#123;    int far1 &#x3D; bfs(1,false,false);    int far2 &#x3D; bfs(far1,false,false);    bfs(far1, true, true);    bfs(far2, true, false);    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)printf(&quot;%d &quot;, max(max1[i]+1, max2[i]+1));    puts(&quot;\n&quot;);&#125;int main() &#123;    &#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;, &quot;r&quot;, stdin);    &#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);    cin &gt;&gt; n;    for (int i &#x3D; 1; i &lt;&#x3D; n; i++) &#123;        int newNode &#x3D; ++sn;        nodes[i].num &#x3D; i;         nodes[i].next &#x3D; newNode;&#x2F;&#x2F;å“¨å…µ    &#125;    for (int i &#x3D; 1; i &lt;&#x3D; n - 1; i++) &#123;        scanf(&quot;%d %d&quot;, &amp;iv1, &amp;iv2);        addNewEdge(iv1, iv2);    &#125;    solve();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
      <category>SDUOJ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€æ–‡ææ‡‚åç¼€æ•°ç»„çš„å€å¢å®ç°</title>
    <link href="/2021/04/11/SA1/"/>
    <url>/2021/04/11/SA1/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åç¼€æ•°ç»„-Suffix-Array"><a href="#ä»€ä¹ˆæ˜¯åç¼€æ•°ç»„-Suffix-Array" class="headerlink" title="ä»€ä¹ˆæ˜¯åç¼€æ•°ç»„ (Suffix Array)"></a>ä»€ä¹ˆæ˜¯åç¼€æ•°ç»„ (Suffix Array)</h2><h4 id="å‰ç½®çŸ¥è¯†ï¼šå­—ç¬¦ä¸²æ’åº"><a href="#å‰ç½®çŸ¥è¯†ï¼šå­—ç¬¦ä¸²æ’åº" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼šå­—ç¬¦ä¸²æ’åº"></a>å‰ç½®çŸ¥è¯†ï¼šå­—ç¬¦ä¸²æ’åº</h4><p>å¯¹å­—ç¬¦ä¸²ä¹‹é—´çš„æ’åºæˆ‘ä»¬ç»™å‡ºä»¥ä¸‹å®šä¹‰ï¼š</p><p>å…³äºå­—ç¬¦ä¸²çš„å¤§å°æ¯”è¾ƒ,æ˜¯æŒ‡é€šå¸¸æ‰€è¯´çš„â€œå­—å…¸é¡ºåºâ€æ¯”è¾ƒ,ä¹Ÿå°±æ˜¯å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸²uã€v, ä»¤ i ä» 1å¼€å§‹é¡ºæ¬¡æ¯”è¾ƒ u[i] å’Œ v[i]ã€‚</p><p> å¦‚æœu[i] = v[i] åˆ™ä»¤iåŠ 1ï¼Œ å¦åˆ™è‹¥u[i]&lt;viåˆ™è®¤ä¸ºu&lt;vï¼Œu[i]&gt;viåˆ™è®¤ä¸ºu&gt;vï¼Œæ¯”è¾ƒç»“æŸã€‚</p><p>å¦‚æœi&gt;len(u)æˆ–è€…i&gt;len(v)ä»æ¯”è¾ƒä¸å‡ºç»“æœï¼Œé‚£ä¹ˆè‹¥len(u)&lt;len(v)åˆ™è®¤ä¸ºuvï¼Œè‹¥len(u)=len(v)åˆ™è®¤ä¸ºu=vï¼Œè‹¥len(u)&gt;len(v)åˆ™u&gt;vaã€‚</p><h4 id="é€šä¿—å®šä¹‰"><a href="#é€šä¿—å®šä¹‰" class="headerlink" title="é€šä¿—å®šä¹‰"></a>é€šä¿—å®šä¹‰</h4><p>åç¼€æ˜¯æŒ‡ä»æŸä¸ªä½ç½®å¼€å§‹åˆ°æ•´ä¸ªä¸²æœ«å°¾ç»“æŸçš„ä¸€ä¸ªç‰¹æ®Šå­ä¸²ã€‚åç¼€æ•°ç»„æ˜¯SAã€RKä¸¤ä¸ªæ•°ç»„çš„ç»Ÿç§°ã€‚é€šè¿‡è¿™ä¸¤ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°å®ŒæˆæŸäº›å­—ç¬¦ä¸²çš„å¤„ç†æ“ä½œã€‚</p><h4 id="SAæ•°ç»„"><a href="#SAæ•°ç»„" class="headerlink" title="SAæ•°ç»„"></a>SAæ•°ç»„</h4><p>SAæ•°ç»„å³Suffix Arrayã€‚</p><p>å…ˆå°†ä»¥ä¸‹æ ‡[1â€¦n]èµ·å§‹çš„å„ä¸ªå­ä¸²æ‹¿å‡ºæ¥ï¼Œå¹¶ä»¥å•è°ƒä¸é™çš„å‡åºæ’åˆ—ã€‚</p><p>SA[i]çš„å«ä¹‰æ˜¯åœ¨ä¸Šè¿°æ’åˆ—ä¸­ï¼Œæ’åiï¼ˆå³ç¬¬ i å°ï¼‰çš„å­ä¸²æ˜¯ä»å“ªä¸ªä¸‹æ ‡èµ·å§‹çš„ã€‚</p><h4 id="RKæ•°ç»„"><a href="#RKæ•°ç»„" class="headerlink" title="RKæ•°ç»„"></a>RKæ•°ç»„</h4><p>RKæ•°ç»„å³Rankã€‚</p><p>å…ˆå°†ä»¥ä¸‹æ ‡[1â€¦n]èµ·å§‹çš„å„ä¸ªå­ä¸²æ‹¿å‡ºæ¥ï¼Œå¹¶ä»¥å•è°ƒä¸é™çš„å‡åºæ’åˆ—ã€‚</p><p>RK[i]çš„å«ä¹‰æ˜¯ä»¥ä¸‹æ ‡iä¸ºèµ·å§‹çš„å­ä¸²ï¼Œå®ƒåœ¨ä¸Šè¿°æ’åˆ—ä¸­æ’åç¬¬å‡ ï¼ˆå³ç¬¬å‡ å°ï¼‰ã€‚</p><h4 id="RKå’ŒSAæ•°ç»„çš„å…³ç³»"><a href="#RKå’ŒSAæ•°ç»„çš„å…³ç³»" class="headerlink" title="RKå’ŒSAæ•°ç»„çš„å…³ç³»"></a>RKå’ŒSAæ•°ç»„çš„å…³ç³»</h4><p>æ˜¾ç„¶æœ‰ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">RK[SA[i]]&#x3D;iï¼ŒSA[RK[i]]&#x3D;i.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å³å®ƒä»¬æ˜¯äº’é€†è¿ç®—ã€‚</p><h2 id="ç”Ÿæˆåç¼€æ•°ç»„çš„æœ´ç´ æ–¹æ³•-å †æ’åº"><a href="#ç”Ÿæˆåç¼€æ•°ç»„çš„æœ´ç´ æ–¹æ³•-å †æ’åº" class="headerlink" title="ç”Ÿæˆåç¼€æ•°ç»„çš„æœ´ç´ æ–¹æ³• (å †æ’åº)"></a>ç”Ÿæˆåç¼€æ•°ç»„çš„æœ´ç´ æ–¹æ³• (å †æ’åº)</h2><h4 id="å…ˆçœ‹ä»£ç "><a href="#å…ˆçœ‹ä»£ç " class="headerlink" title="å…ˆçœ‹ä»£ç "></a>å…ˆçœ‹ä»£ç </h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">void init(int* sa,int* rk,const string&amp; str) &#123;saString* suffixStrs &#x3D; new saString[str.length() + 1];priority_queue&lt;saString&gt; heap;stack&lt;saString&gt; stk;for (int i &#x3D; 1; i &lt;&#x3D; str.length(); i++) &#123;suffixStrs[i].val &#x3D; str.substr(i - 1); suffixStrs[i].begin &#x3D; i;heap.push(suffixStrs[i]);&#125;while (!heap.empty())&#123;stk.push(heap.top());heap.pop();&#125;int rank &#x3D; 0;while (!stk.empty())&#123;sa[++rank] &#x3D; stk.top().begin;rk[stk.top().begin] &#x3D; rank;stk.pop();&#125;delete[]suffixStrs;&#125;&#x2F;&#x2F;æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰ï¼Œå †æ’åºæ˜¯Oï¼ˆnlognï¼‰ï¼Œæ•…æ•´ä½“æ˜¯Oï¼ˆn^2lognï¼‰.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="åŸºäºå€å¢ç®—æ³•çš„ç”Ÿæˆæ–¹æ³•"><a href="#åŸºäºå€å¢ç®—æ³•çš„ç”Ÿæˆæ–¹æ³•" class="headerlink" title="åŸºäºå€å¢ç®—æ³•çš„ç”Ÿæˆæ–¹æ³•"></a>åŸºäºå€å¢ç®—æ³•çš„ç”Ÿæˆæ–¹æ³•</h2><h4 id="å…ˆçœ‹ä»£ç -1"><a href="#å…ˆçœ‹ä»£ç -1" class="headerlink" title="å…ˆçœ‹ä»£ç "></a>å…ˆçœ‹ä»£ç </h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">void doubleHeapSort(compPair* cp,int* order,const int&amp; len,int&amp; subLen) &#123;&#x2F;&#x2F;åˆ©ç”¨å †æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlognï¼‰&#x2F;&#x2F;cp:å¾…æ¯”è¾ƒçš„&#x2F;&#x2F;order:æ¯”è¾ƒç»“æœè¾“å‡º&#x2F;&#x2F;len:å­—ç¬¦ä¸²é•¿åº¦for (int i &#x3D; 1; i &lt;&#x3D; len; i++) &#123;if (i + subLen &lt;&#x3D; len) &#123;cp[i].first &#x3D; order[i];cp[i].second &#x3D; order[i + subLen];&#125;else &#123;cp[i].first &#x3D; order[i]; cp[i].second &#x3D; 0;&#125;cp[i].index &#x3D; i;&#125;priority_queue&lt;compPair&gt; heap;for (int i &#x3D; 1; i &lt;&#x3D; len; i++) &#123; heap.push(cp[i]); &#125;int rank &#x3D; 0;compPair last;while (!heap.empty())&#123;if (heap.top() &lt; last) &#123;rank++; last &#x3D; heap.top(); &#125;order[heap.top().index] &#x3D; rank;heap.pop();&#125;subLen *&#x3D; 2;&#125;void initMSA(int* sa, int* rk, const string&amp; str) &#123;&#x2F;&#x2F;ä¸ºå€å¢è¿›è¡Œåˆå§‹åŒ–ã€å¯¹ç¬¬ä¸€è¡Œè¿›è¡Œåˆå§‹æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlognï¼‰compChar* cc &#x3D; new compChar[str.length()];for (int i &#x3D; 0; i &lt; str.length(); i++) &#123;cc[i].c &#x3D; str[i]; cc[i].index &#x3D; i + 1;&#125;priority_queue&lt;compChar&gt; heapC;for (int i &#x3D; 0; i &lt; str.length(); i++)heapC.push(cc[i]);int stCRank &#x3D; 0;char last &#x3D; 0;int* order &#x3D; new int[str.length() + 1];while (!heapC.empty())&#123;if (heapC.top().c &gt; last) &#123; stCRank++; last &#x3D; heapC.top().c; &#125;order[heapC.top().index] &#x3D; stCRank;heapC.pop();&#125;&#x2F;&#x2F;å¾ªç¯æ‰§è¡Œå€å¢ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlog^2(n)ï¼‰compPair* cp &#x3D; new compPair[str.length() + 1];for (int subLen &#x3D; 1; subLen*2&lt;&#x3D;str.length();) doubleHeapSort(cp, order, str.length(),subLen);&#x2F;&#x2F;æ‹·è´ç»“æœåˆ°rkæ•°ç»„,é¡ºä¾¿ç”Ÿæˆsaæ•°ç»„for (int i &#x3D; 1; i &lt;&#x3D; str.length(); i++) &#123;rk[i] &#x3D; order[i]; sa[rk[i]] &#x3D; i;&#125;delete[]order, cp;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å€å¢ç®—æ³•"><a href="#å€å¢ç®—æ³•" class="headerlink" title="å€å¢ç®—æ³•"></a>å€å¢ç®—æ³•</h3><h4 id="ç›´è§‚æ„Ÿå—â€å€å¢â€œ"><a href="#ç›´è§‚æ„Ÿå—â€å€å¢â€œ" class="headerlink" title="ç›´è§‚æ„Ÿå—â€å€å¢â€œ"></a>ç›´è§‚æ„Ÿå—â€å€å¢â€œ</h4><p>æ‹¿DNAæ‰©å¢è¿‡ç¨‹ä¸­ï¼ŒDNAåŒé“¾çš„æ€»æ•°ä¸¾ä¾‹ï¼Œåˆ™æ¯æ¬¡æ‰©å¢ï¼Œå…¶æ€»æ•°éƒ½ä¹˜2.</p><p>åœ¨è¿™ä¸ªå…³ç³»ä¸­ï¼Œå¯ä»¥è®¤ä¸ºâ€DNAåŒé“¾æ€»æ•°â€œæ»¡è¶³å€å¢çš„å…³ç³»ã€‚</p><p>å€å¢ï¼Œå°±æ˜¯æ¯æ¬¡ä¹˜2.</p><h4 id="åç¼€æ•°ç»„ä¸­çš„å€å¢"><a href="#åç¼€æ•°ç»„ä¸­çš„å€å¢" class="headerlink" title="åç¼€æ•°ç»„ä¸­çš„å€å¢"></a>åç¼€æ•°ç»„ä¸­çš„å€å¢</h4><p>åœ¨åç¼€æ•°ç»„ç®—æ³•ä¸­ï¼Œå€å¢æ˜¯æŒ‡æ¯ä¸ªå­ä¸²çš„æœ€å¤§é•¿åº¦æ¯æ¬¡ä¹˜2.</p><p>ä¸ºä»€ä¹ˆææœ€å¤§é•¿åº¦ï¼Ÿå› ä¸ºå¯¹äºèµ·å§‹ä¸‹æ ‡è¾ƒå¤§çš„å­ä¸²ï¼Œå®ƒä»¬å¯èƒ½è¾¾ä¸åˆ°è¿™ä¸ªå€¼ã€‚</p><h4 id="å€å¢ç®—æ³•çš„ä¼˜åŠ¿"><a href="#å€å¢ç®—æ³•çš„ä¼˜åŠ¿" class="headerlink" title="å€å¢ç®—æ³•çš„ä¼˜åŠ¿"></a>å€å¢ç®—æ³•çš„ä¼˜åŠ¿</h4><p>æš´åŠ›æ³•æ±‚SAã€RKæ•°ç»„ï¼Œåˆ™éœ€è¦Oï¼ˆnï¼‰çš„å­—ç¬¦ä¸²æ¯”è¾ƒå’ŒOï¼ˆnlognï¼‰çš„æ’åºï¼ŒåŠ èµ·æ¥æ˜¯Oï¼ˆn^2lognï¼‰ã€‚</p><p>å¦‚æœä¸å»æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯åªæŠŠå„ä¸ªå­ä¸²ä»¥SAæ•°ç»„å…ƒç´ çš„æ–¹å¼å‘ˆç°ï¼Œåˆ™å­—ç¬¦ä¸²çš„æ¯”è¾ƒå°†é™ä½è‡³Oï¼ˆ1ï¼‰çš„ã€‚å¦‚æœé‡‡ç”¨å€å¢ï¼Œåˆ™éœ€è¦lognæ¬¡å¾ªç¯å³å¯å¢åˆ°ä¸€ä¸ªæœ€å¤§é•¿åº¦ä¸ºnçš„å­ä¸²ã€‚</p><p>åˆ™è‹¥ä½¿ç”¨å¿«é€Ÿæ’åºæˆ–å †æ’åºï¼Œç®—æ³•å¤æ‚åº¦æ˜¯Oï¼ˆnlog^2(n)ï¼‰ã€‚</p><h4 id="è¿˜æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´"><a href="#è¿˜æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´" class="headerlink" title="è¿˜æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´"></a>è¿˜æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´</h4><p>ç”±äºæˆ‘ä»¬çš„RKæ•°ç»„çš„å¤§å°ä»‹äºASCIIç ä¸ªæ•°ï¼ˆ128ï¼‰åˆ°æºå­—ç¬¦ä¸²é•¿åº¦ä¹‹é—´ï¼Œæˆ‘ä»¬çš„RKæ•°ç»„çš„è§„æ¨¡ä¸ä¼šå¾ˆå¤§ã€‚å¦‚æœæˆ‘ä»¬å°†Oï¼ˆnlognï¼‰çš„æ’åºé™ä½è‡³Oï¼ˆnï¼‰çš„çº§åˆ«ï¼Œé‚£ä¹ˆæ˜¯éå¸¸èˆ’æœçš„ã€‚</p><p>æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªOï¼ˆnlognï¼‰çš„ç®—æ³•ï¼Œæˆ–å‡†ç¡®åœ°è¯´æ˜¯Oï¼ˆ2nlognï¼‰çš„ã€‚</p><p>å› æ­¤å¼•å…¥é€šè¿‡ä¸¤æ¬¡æ‰§è¡Œè®¡æ•°æ’åºï¼Œå®ç°çš„åŒå…³é”®å­—åŸºæ•°æ’åºçš„ç®—æ³•ã€‚</p><h2 id="åŸºäºå¤šå…³é”®å­—åŸºæ•°æ’åºçš„å€å¢ç®—æ³•"><a href="#åŸºäºå¤šå…³é”®å­—åŸºæ•°æ’åºçš„å€å¢ç®—æ³•" class="headerlink" title="åŸºäºå¤šå…³é”®å­—åŸºæ•°æ’åºçš„å€å¢ç®—æ³•"></a>åŸºäºå¤šå…³é”®å­—åŸºæ•°æ’åºçš„å€å¢ç®—æ³•</h2><h3 id="å…ˆçœ‹ä»£ç -2"><a href="#å…ˆçœ‹ä»£ç -2" class="headerlink" title="å…ˆçœ‹ä»£ç "></a>å…ˆçœ‹ä»£ç </h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">int i, m, p, w;n &#x3D; strlen(s + 1);m &#x3D; max(n, 128);&#x2F;&#x2F;è‹±æ–‡å­—ç¬¦ä¸‹ï¼ŒASCIIæœ€å¤š128ä¸ªfor (int i &#x3D; 1; i &lt;&#x3D; n; i++)cnt[rk[i] &#x3D; s[i]]++;for (int i &#x3D; 1; i &lt;&#x3D; m; i++)cnt[i] +&#x3D; cnt[i - 1];for (int i &#x3D; n; i &gt;&#x3D; 1; i--)sa[cnt[rk[i]]--] &#x3D; i;for (w &#x3D; 1; w &lt; n; w &lt;&lt;&#x3D; 1) &#123;    memset(cnt, 0, sizeof(cnt));    memcpy(id, sa, sizeof(sa));    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)cnt[rk[sa[i]+w]]++;&#x2F;&#x2F;+wåœ¨[]å¤–é¢ï¼    for (int i &#x3D; 1; i &lt;&#x3D; m; i++)cnt[i] +&#x3D; cnt[i - 1];    for (int i &#x3D; n; i &gt;&#x3D; 1; i--)sa[cnt[rk[id[i]+w]]--] &#x3D; id[i];&#x2F;&#x2F;æ­¤å¤„æ˜¯id[i]!    memset(cnt, 0, sizeof(cnt));    memcpy(id, sa, sizeof(sa));    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)cnt[rk[sa[i]]]++;    for (int i &#x3D; 1; i &lt;&#x3D; m; i++)cnt[i] +&#x3D; cnt[i - 1];    for (int i &#x3D; n; i &gt;&#x3D; 1; i--)sa[cnt[rk[id[i]]]--] &#x3D; id[i];    memcpy(oldrk, rk, sizeof(rk));    for (p &#x3D; 0, i &#x3D; 1; i &lt;&#x3D; n; i++) oldrk[sa[i]] &#x3D;&#x3D; oldrk[sa[i - 1]] &amp;&amp; oldrk[sa[i] + w] &#x3D;&#x3D; oldrk[sa[i - 1] + w] ? rk[sa[i]] &#x3D; p : rk[sa[i]] &#x3D; ++p;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><table><thead><tr><th>å˜é‡</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>s[N]</td><td>æºå­—ç¬¦ä¸²</td></tr><tr><td>n</td><td>æºå­—ç¬¦ä¸²é•¿åº¦</td></tr><tr><td>rk[N]</td><td>rkæ•°ç»„</td></tr><tr><td>sa[N]</td><td>saæ•°ç»„</td></tr><tr><td>oldrk[N]</td><td>ç›¸å¯¹äºæœ¬è½®çš„åŒå…³é”®å­—åŸºæ•°æ’åºï¼Œä¸Šä¸€è½®åŒå…³é”®å­—åŸºæ•°æ’åºå®Œæˆåè®¡ç®—å‡ºçš„rkæ•°ç»„çš„å¿«ç…§</td></tr><tr><td>id[N]</td><td>æ¯æ¬¡è®¡æ•°æ’åºå‰çš„saçš„å¿«ç…§</td></tr><tr><td>cnt[N]</td><td>ç”¨äºè®¡æ•°æ’åº</td></tr><tr><td>i</td><td>å¾ªç¯ä¸‹æ ‡ï¼Œæ— éœ€æ¯æ¬¡æ–°å»ºäº†</td></tr><tr><td>m</td><td>è®¡æ•°æ’åºä¸­æœ€å¤§æœŸæœ›çš„å‡ºç°çš„åæ¬¡çš„ä¸ªæ•°</td></tr><tr><td>p</td><td>åŒå…³é”®å­—åŸºæ•°æ’åºåï¼Œè®¡ç®—æ–°rkæ—¶ï¼Œä»£è¡¨æœ¬è½®æ’åï¼ˆæ¯æ¬¡+1ï¼‰</td></tr><tr><td>w</td><td>å€å¢åç§»é‡</td></tr></tbody></table><h3 id="åŸºç¡€ç®—æ³•æ€æƒ³"><a href="#åŸºç¡€ç®—æ³•æ€æƒ³" class="headerlink" title="åŸºç¡€ç®—æ³•æ€æƒ³"></a>åŸºç¡€ç®—æ³•æ€æƒ³</h3><h4 id="ç¬¬ä¸€è¶Ÿè®¡æ•°æ’åº"><a href="#ç¬¬ä¸€è¶Ÿè®¡æ•°æ’åº" class="headerlink" title="ç¬¬ä¸€è¶Ÿè®¡æ•°æ’åº"></a>ç¬¬ä¸€è¶Ÿè®¡æ•°æ’åº</h4><p>å…ˆè¿›è¡Œä¸€è¶Ÿè®¡æ•°æ’åºï¼Œç¡®å®šå­ä¸²é•¿åº¦ä¸º1æ—¶çš„rkå’Œsaã€‚</p><p>æ­¤å¤„ç”±äºä¸²é•¿ä¸º1ï¼Œæ•…rkå¯ä»¥å†™å…¥å¯¹åº”ä¸‹æ ‡çš„charçš„ASCIIç ä»£æ›¿ã€‚å®ƒä»¬å¤©ç”Ÿæœ‰rkæ•°ç»„çš„é‚£ç§å¯¹äºå­—ç¬¦ä¸²å•è°ƒä¸é™çš„æ€§è´¨ã€‚</p><p>å¯¹äºaabaaaabæ ·ä¾‹ï¼Œæ­¤æ—¶çš„rkæ•°ç»„ä¸ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">97 97 98 97 97 97 97 98 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å…¶ä¸­ï¼Œ97æ˜¯açš„ASCIIç ï¼Œ98æ˜¯bçš„ASCIIç ã€‚</p><p>æ­¤æ—¶çš„saæ•°ç»„ä¸ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">1 2 4 5 6 7 3 8 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ¯ä¸ªå…ƒç´ ä»£è¡¨ä»¥å…¶å…ƒç´ å€¼å¼€å§‹çš„é•¿åº¦ä¸º1çš„å­ä¸²çš„å•è°ƒä¸é™æ’åºæƒ…å†µã€‚</p><p>å³:1,2,3,5,6,7ä»£è¡¨äº†aå­—ç¬¦ï¼Œ3å’Œ8ä»£è¡¨äº†bå­—ç¬¦ã€‚</p><h4 id="åç»­çš„åŒå…³é”®å­—åŸºæ•°æ’åº"><a href="#åç»­çš„åŒå…³é”®å­—åŸºæ•°æ’åº" class="headerlink" title="åç»­çš„åŒå…³é”®å­—åŸºæ•°æ’åº"></a>åç»­çš„åŒå…³é”®å­—åŸºæ•°æ’åº</h4><p>åˆ†åˆ«è¿ç»­å¯¹ä¸¤ä¸ªå…³é”®å­—è¿›è¡Œè®¡æ•°æ’åºï¼Œç§°ä¸ºåŒå…³é”®å­—çš„åŸºæ•°æ’åºã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (w &#x3D; 1; w &lt; n; w &lt;&lt;&#x3D; 1)&#123;    if(w&gt;&#x3D;2)m &#x3D; n;    memset(cnt, 0, sizeof(cnt));&#x2F;&#x2F;æ³¨æ„è¦åˆå§‹åŒ–cntæ•°ç»„ï¼Œæ‰€æœ‰è®¡æ•°éƒ½ä»0å¼€å§‹ã€‚    for (i &#x3D; 1; i &lt;&#x3D; n; ++i) id[i] &#x3D; sa[i];    for (i &#x3D; 1; i &lt;&#x3D; n; ++i) ++cnt[rk[id[i] + w]];    for (i &#x3D; 1; i &lt;&#x3D; m; ++i) cnt[i] +&#x3D; cnt[i - 1];    for (i &#x3D; n; i &gt;&#x3D; 1; --i) sa[cnt[rk[id[i] + w]]--] &#x3D; id[i];    ....&#x2F;&#x2F;TODO: å†è¿›è¡Œä¸€è½®å¯¹ç¬¬ä¸€å…³é”®å­—çš„æ’åº&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ä»¥ç¬¬äºŒå…³é”®å­—çš„è®¡æ•°æ’åºä¸ºä¾‹ï¼Œç®—æ³•æ€æƒ³å¦‚ä¸‹ï¼š</p><p>å…ˆå°†æ’åºå‰çš„saæ•°ç»„å­˜å¿«ç…§åˆ°idæ•°ç»„ã€‚</p><p>ä¹‹åå¼€å§‹è®¡æ•°æ’åºçš„ä¸€èˆ¬æ­¥éª¤ã€‚</p><h5 id="å¾ªç¯æ¡ä»¶"><a href="#å¾ªç¯æ¡ä»¶" class="headerlink" title="å¾ªç¯æ¡ä»¶"></a>å¾ªç¯æ¡ä»¶</h5><p>w&lt;nï¼Œä¸”æ¯æ¬¡wæŒ‰ä½å·¦ç§»ã€‚</p><p>è¿™æ ·å°±èƒ½å®ç°æ‰€è°“å€å¢ã€‚</p><h5 id="rkæ•°ç»„çš„æ³¨æ„äº‹é¡¹"><a href="#rkæ•°ç»„çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="rkæ•°ç»„çš„æ³¨æ„äº‹é¡¹"></a>rkæ•°ç»„çš„æ³¨æ„äº‹é¡¹</h5><p>rkæ•°ç»„è¦å¼€æºå­—ç¬¦ä¸²é•¿åº¦çš„2å€å¤§å°ã€‚</p><p>å› ä¸ºå½“w=næ—¶ï¼Œsa[i]+wä¸€èˆ¬æ˜¯&gt;wä¸”&lt;2wçš„ã€‚</p><p>å¦‚æœrkä¸å¤Ÿå¤§å°±ä¼š<code>å½“åœºRE</code>ã€‚</p><p>è€Œä¸”ï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡éƒ½æŠŠè¯¥æ•°ç»„åˆå§‹åŒ–ä¸ºå…¨ï¼ï¼Œå°±èƒ½æ–¹ä¾¿åœ°è¾¾åˆ°â€è‹¥ç¬¬äºŒå…³é”®å­—çš„å­ä¸²ä¸åœ¨æºæ•°ç»„èŒƒå›´å†…ï¼Œåˆ™ä½¿å®ƒçš„saä¸º0ï¼ˆä¹Ÿå¯è®¤ä¸ºæ˜¯æ— ç©·å°ï¼‰â€œçš„æ•ˆæœã€‚</p><h5 id="å…³äºè®¡æ•°å„ä¸ªå­ä¸²çš„rank"><a href="#å…³äºè®¡æ•°å„ä¸ªå­ä¸²çš„rank" class="headerlink" title="å…³äºè®¡æ•°å„ä¸ªå­ä¸²çš„rank"></a>å…³äºè®¡æ•°å„ä¸ªå­ä¸²çš„rank</h5><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (i &#x3D; 1; i &lt;&#x3D; n; ++i) ++cnt[rk[id[i] + w]];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>id[i]æ˜¯sa[i]çš„å¿«ç…§ï¼Œéšç€içš„å¢å¤§ï¼Œä»¥å…¶å¯¹åº”ä¸‹æ ‡çš„å…ƒç´ ä¸ºèµ·å§‹çš„é•¿åº¦ä¸ºw/2çš„å­ä¸²æ˜¯ä¾æ¬¡å‘ˆå•è°ƒä¸é™æ’åˆ—çš„ã€‚</p><p>å› æ­¤æˆ‘ä»¬åªéœ€è¦è®©iå¢åŠ ï¼Œå…¶å¯¹åº”çš„rankå°±æ˜¯å•è°ƒä¸é™åœ°è¢«æšä¸¾å‡ºæ¥çš„ã€‚</p><p>ä»¥è¿™ç§æ¬¡åºï¼Œå¯ä»¥å®Œæˆå¯¹å„ç§å¯èƒ½çš„rankçš„è®¡æ•°ã€‚</p><h5 id=""><a href="#" class="headerlink" title=""></a></h5><h5 id="å…³äºæ±‚å‰ç¼€å’Œ"><a href="#å…³äºæ±‚å‰ç¼€å’Œ" class="headerlink" title="å…³äºæ±‚å‰ç¼€å’Œ"></a>å…³äºæ±‚å‰ç¼€å’Œ</h5><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (i &#x3D; 1; i &lt;&#x3D; m; ++i) cnt[i] +&#x3D; cnt[i - 1];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å¯¹äºè®¡æ•°ç»“æœä»å°åˆ°å¤§éå†æ±‚å’Œï¼Œåˆ™å¯ä»¥å¾—åˆ°å„ä¸ªè®¡æ•°å¯¹åº”å…ƒç´ çš„æœ€åä¸€ä¸ªç»“æœä¸‹æ ‡ã€‚</p><p>è¿™é‡Œçš„å¾ªç¯æ¡ä»¶æ˜¯éå†åˆ°mä¸ºæ­¢ã€‚mçš„å®šä¹‰æ˜¯æœŸæœ›çš„è®¡æ•°å…ƒç´ ã€‚</p><p>å¯¹äºw=0æƒ…å†µä¸‹çš„è®¡æ•°æ’åºï¼Œrankæ˜¯ä»¥ASCIIç çš„å½¢å¼å­˜å‚¨ï¼Œæ•…måº”å½“ä¸å°äºASCIIçš„æœ€å¤§å€¼128.</p><p>å¯¹äºw&gt;=2æƒ…å†µä¸‹çš„è®¡æ•°æ’åºï¼Œç”±äºåœ¨w=1çš„é‚£æ¬¡è®¡æ•°æ’åºä¸­ï¼Œå·²ç»æ›´æ–°rankä¸ºä»1å¼€å§‹çš„intæ•°ï¼Œæ•…rankä¸­çš„å€¼éƒ½å¿…ç„¶å°äºç­‰äºæºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹ä¸‹æ–‡ä¼šä»‹ç»ï¼‰</p><p>å› æ­¤w=0æ—¶ï¼Œmçš„åˆå§‹åŒ–å¦‚ä¸‹:</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">m &#x3D; max(n, 128);&#x2F;&#x2F;è‹±æ–‡å­—ç¬¦ä¸‹ï¼ŒASCIIæœ€å¤š128ä¸ª<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è¿›å…¥w&gt;=2çš„è®¡æ•°æ’åºæ—¶ï¼Œmå‰ªæä¸º:</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">if(w&gt;&#x3D;2) m &#x3D; n;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h5 id="æœ‰åºæ€§"><a href="#æœ‰åºæ€§" class="headerlink" title="æœ‰åºæ€§"></a>æœ‰åºæ€§</h5><p>æœ‰åºæ€§å³æ’åºå‰Bæ’åœ¨Açš„åé¢ï¼Œåˆ™æ’åºåBä¹Ÿè¦æ’åœ¨Açš„åé¢æ‰è¡Œã€‚ç”±äºcntä¿å­˜çš„æ˜¯è®¡æ•°å¯¹åº”å…ƒç´ çš„æœ€åä¸€ä¸ªç»“æœä¸‹æ ‡ï¼Œæ•…å…¶èƒ½è®°å½•ä¸‹æœ‰åºæ€§ã€‚</p><p>è¿™é‡Œæœ‰åºæ€§æ˜¯è‡³å…³é‡è¦çš„ã€‚å› ä¸ºå¯¹äºåŒå…³é”®å­—çš„åŸºæ•°æ’åºï¼Œæˆ‘ä»¬å…ˆå¯¹ç¬¬äºŒå…³é”®å­—è¿›è¡Œæ’åºï¼Œç„¶åå†å¯¹ç¬¬ä¸€å…³é”®å­—æ’åºã€‚ç¬¬ä¸€å…³é”®å­—æ’åºæ˜¯åœ¨ç¬¬äºŒå…³é”®å­—æ’åºçš„ç»“æœåŸºç¡€ä¸Šè¿›è¡Œã€‚åœ¨ç¬¬ä¸€å…³é”®å­—æ’åºä¸­ï¼Œå¦‚æœä¸¤ä¸ªå…ƒç´ çš„ç¬¬ä¸€å…³é”®å­—ä¸ç›¸ç­‰ï¼Œåˆ™ä¼šç›´æ¥æŠ¹å»ç¬¬äºŒå…³é”®å­—æ’åºä¸­è¿™ä¸¤ä¸ªå…ƒç´ çš„ç¬¬äºŒå…³é”®å­—çš„å¤§å°å…³ç³»ã€‚åä¹‹ï¼Œå¦‚æœç¬¬ä¸€å…³é”®å­—æ’åºä¸­ï¼Œè¿™ä¸¤ä¸ªå…ƒç´ çš„å…³é”®å­—ç›¸ç­‰ï¼Œåˆ™ä¼šä¿ç•™ç¬¬äºŒå…³é”®å­—æ’åºä¸­åŸæœ‰çš„å¤§å°å…³ç³»ã€‚è¿™ç§â€ä¿ç•™â€œéœ€è¦ä¾é è®¡æ•°æ’åºçš„ç¨³å®šæ€§ã€‚</p><p>ä¾‹å¦‚ï¼šåœ¨ç¬¬äºŒå…³é”®å­—æ’åºä¸Šï¼Œå‡åºæ’åˆ—ä¸º</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">xxxxabxxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ç„¶è€Œaã€bçš„ç¬¬ä¸€å…³é”®å­—ç›¸ç­‰ï¼Œåˆ™ç¬¬ä¸€å…³é”®å­—æ’åºåï¼Œæ’åºç»“æœä»ä¸º</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">xxxxabxxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä½†æ˜¯è®¾æƒ³å¦‚æœç ´åäº†ç¨³å®šæ€§ï¼Œåˆ™å¯èƒ½å‡ºç°</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">xxxxbaxxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>é‚£ä¹ˆè¿™æ ·å°±ä¸ç¬¦åˆå¤šå…³é”®å­—ä¸­çš„â€å…ˆè€ƒè™‘ç¬¬ä¸€å…³é”®å­—ï¼Œå¦‚æœç›¸ç­‰æ‰å»è€ƒè™‘ç¬¬äºŒå…³é”®å­—â€œçš„åŸåˆ™äº†ã€‚åªæœ‰ä¿è¯äº†æ¯ä¸€æ­¥çš„ç¨³å®šæ€§ï¼Œæ‰èƒ½ç¡®ä¿è§„åˆ™100%æˆç«‹ã€‚</p><h5 id="å…³äºå¯¼å‡ºæ’åºç»“æœ"><a href="#å…³äºå¯¼å‡ºæ’åºç»“æœ" class="headerlink" title="å…³äºå¯¼å‡ºæ’åºç»“æœ"></a>å…³äºå¯¼å‡ºæ’åºç»“æœ</h5><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (i &#x3D; n; i &gt;&#x3D; 1; --i) sa[cnt[rk[id[i] + w]]--] &#x3D; id[i];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><code>æœ‰åºæ€§</code>  ä»¥å€’åºéå†cntæ•°ç»„ï¼Œä»¥ä¿è¯æ’åºç»“æœçš„æœ‰åºæ€§ã€‚</p><p>ç”±äºå„ä¸ªidä½œä¸ºä¸‹æ ‡çš„æƒ…å†µä¸‹ï¼Œrk[id[i]]æ˜¯å•è°ƒä¸é™æ•°ç»„ï¼Œæ•…æˆ‘ä»¬æ­£åœ¨é€†åºéå†cntï¼Œç¬¦åˆè®¡æ•°æ’åºæœ€åä¸€æ­¥çš„å®šä¹‰ã€‚</p><p>å°†saæ›´æ–°å³å¯ã€‚</p><p>ï¼ˆæ³¨ï¼šsaæ•°ç»„æ˜¯ä¸ä¼šå‡ºç°é‡å¤å…ƒç´ çš„ã€‚å› ä¸ºå®ƒçš„å…ƒç´ ä»£è¡¨å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚è€Œæ¯ä¸ªå­ä¸²æ˜¯å”¯ä¸€çš„ã€‚ï¼‰</p><h5 id="å­ä¸²çš„å½’å¹¶"><a href="#å­ä¸²çš„å½’å¹¶" class="headerlink" title="å­ä¸²çš„å½’å¹¶"></a>å­ä¸²çš„å½’å¹¶</h5><p><code>æ³¨</code>  è™½ç„¶è¿™é‡Œæˆ‘ä»¬çš„æ’åºå¯¹è±¡æ˜¯id[i]+wï¼Œä½†æ˜¯æˆ‘ä»¬çš„èµ‹å€¼æ˜¯id[i]ã€‚è¿™ä¸€ä¸ªæ“ä½œå°±å®ç°äº†ä¸¤ä¸ªå­ä¸²çš„<code>å½’å¹¶</code>ã€‚</p><h4 id="è®¡ç®—æ–°çš„rkæ•°ç»„"><a href="#è®¡ç®—æ–°çš„rkæ•°ç»„" class="headerlink" title="è®¡ç®—æ–°çš„rkæ•°ç»„"></a>è®¡ç®—æ–°çš„rkæ•°ç»„</h4><p>æŒ‰ä¸Šè¿°æ–¹æ³•è·‘å®Œä¸¤è¶Ÿè®¡æ•°æ’åºï¼Œå°±å®Œæˆäº†åŒå…³é”®å­—çš„åŸºæ•°æ’åºã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">   memcpy(oldrk, rk, sizeof(rk));&#x2F;&#x2F;è·å¾—rkæ›´æ–°å‰çš„å¿«ç…§ï¼ˆå› ä¸ºæ¥ä¸‹æ¥rkå°±è¦è¢«æ›´æ–°äº†ï¼‰for (p &#x3D; 0, i &#x3D; 1; i &lt;&#x3D; n; ++i) &#123;     if (oldrk[sa[i]] &#x3D;&#x3D; oldrk[sa[i - 1]] &amp;&amp;         oldrk[sa[i] + w] &#x3D;&#x3D; oldrk[sa[i - 1] + w]) &#123;         rk[sa[i]] &#x3D; p;     &#125;     else &#123;         rk[sa[i]] &#x3D; ++p;     &#125; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h5 id="éå†é¡ºåº"><a href="#éå†é¡ºåº" class="headerlink" title="éå†é¡ºåº"></a>éå†é¡ºåº</h5><p>ç»´æŠ¤ä¸€ä¸ªpï¼Œä»£è¡¨rkæ•°ç»„ä¸­æ­¤ä½ç½®çš„å€¼ã€‚</p><p>åŒæ ·åœ°ï¼Œæ­£åºéå†saï¼Œåˆ™å¾—åˆ°çš„rk[sa[i]]æ˜¯ï¼ˆå•è°ƒä¸é™çš„å­ä¸²åºåˆ—ï¼‰ï¼ˆæ–­ä¸ªå¥ï¼‰çš„é¦–ä¸‹æ ‡ã€‚</p><p>ç”±äºå®ƒä»¬å•è°ƒä¸é™ï¼Œæˆ‘ä»¬æŠŠæ–°å€¼æŒ‰å•è°ƒä¸é™çš„é¡ºåºå¾€rkæ•°ç»„é‡Œå¡«å³å¯ã€‚ä»0å¼€å§‹ï¼Œé€æ¸ä¸Šå‡ã€‚</p><h5 id="pæ˜¯å¢åŠ ï¼Œè¿˜æ˜¯ä¸å˜ï¼Ÿ"><a href="#pæ˜¯å¢åŠ ï¼Œè¿˜æ˜¯ä¸å˜ï¼Ÿ" class="headerlink" title="pæ˜¯å¢åŠ ï¼Œè¿˜æ˜¯ä¸å˜ï¼Ÿ"></a>pæ˜¯å¢åŠ ï¼Œè¿˜æ˜¯ä¸å˜ï¼Ÿ</h5><p>æŒ‰å•è°ƒä¸é™åŸåˆ™ï¼Œå¦‚æœå½“å‰å¯¹è±¡çš„å€¼å’Œå‰ä¸€ä¸ªç›¸ç­‰ï¼Œåˆ™å®ƒä»¬çš„åæ¬¡åº”å½“ç›¸ç­‰ã€‚æ­¤æ—¶pè¿˜ç”¨ä¸Šä¸€è½®çš„på³å¯ã€‚å¦åˆ™å¦‚æœä¸ç›¸ç­‰ï¼Œåˆ™å…¶åæ¬¡æ›´æ–°ä¸º++pã€‚</p><p>åˆ¤æ–­â€å½“å‰å¯¹è±¡çš„å€¼å’Œå‰ä¸€ä¸ªç›¸ç­‰â€œçš„æ–¹æ³•å¾ˆç®€å•ï¼šç”±äºç°åœ¨è¿™ä¸ªå­ä¸²æ˜¯ç”±ä¸¤ä¸ªä¸²åˆå¹¶ï¼ˆå€å¢ï¼‰è€Œæ¥ï¼Œæ‰€ä»¥åªéœ€è¦åˆ¤æ–­åˆå¹¶æ‰€éœ€åŸæ–™å®Œå…¨ç›¸ç­‰å³å¯ã€‚å³åŸæ¥çš„é¦–å…³é”®å­—ç›¸ç­‰ï¼Œç¬¬äºŒå…³é”®å­—ä¹Ÿç›¸ç­‰ã€‚</p><h3 id="å°ä¼˜åŒ–ï¼šä½¿ç”¨åŠæ—¶ç»ˆæ­¢çš„å€å¢ç®—æ³•"><a href="#å°ä¼˜åŒ–ï¼šä½¿ç”¨åŠæ—¶ç»ˆæ­¢çš„å€å¢ç®—æ³•" class="headerlink" title="å°ä¼˜åŒ–ï¼šä½¿ç”¨åŠæ—¶ç»ˆæ­¢çš„å€å¢ç®—æ³•"></a>å°ä¼˜åŒ–ï¼šä½¿ç”¨åŠæ—¶ç»ˆæ­¢çš„å€å¢ç®—æ³•</h3><p>åœ¨æ¯æ¬¡ç”ŸæˆRKæ•°ç»„ï¼Œéƒ½ä¼šç»´æŠ¤ä¸€ä¸ªpï¼Œå…¶ç­‰äºå½“å‰RKæ•°ç»„çš„å€¼åŸŸã€‚å³ï¼šå½“å‰æœ‰å¤šå°‘ä¸ªå¯åŒºåˆ†çš„å•è°ƒä¸é™çš„åæ¬¡ã€‚</p><p>å¦‚æœæ¯ä¸ªå­ä¸²çš„RKäº’ä¸ç›¸åŒï¼Œåˆ™æˆ‘ä»¬è®¤ä¸ºåç¼€æ•°ç»„å·²ç»ç”Ÿæˆã€‚åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬åšä»¥ä¸‹ä¼˜åŒ–ï¼š</p><p>æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªpï¼Œåœ¨æ¯æ¬¡å€å¢çš„ç»“æŸæ—¶åšä»¥ä¸‹åˆ¤æ–­ï¼Œå¹¶ç›´æ¥ç”Ÿæˆæœ€ç»ˆçš„saæ•°ç»„å³å¯ã€‚ç®—æ³•æå‰ç»“æŸã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">if (p &#x3D;&#x3D; n) &#123;  for (int i &#x3D; 1; i &lt;&#x3D; n; ++i) sa[rk[i]] &#x3D; i;  break;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¸¸æ•°ä¼˜åŒ–ï¼šå‡å°‘O-n-æ¬¡çš„è®¡æ•°æ’åº"><a href="#å¸¸æ•°ä¼˜åŒ–ï¼šå‡å°‘O-n-æ¬¡çš„è®¡æ•°æ’åº" class="headerlink" title="å¸¸æ•°ä¼˜åŒ–ï¼šå‡å°‘O(n)æ¬¡çš„è®¡æ•°æ’åº"></a>å¸¸æ•°ä¼˜åŒ–ï¼šå‡å°‘O(n)æ¬¡çš„è®¡æ•°æ’åº</h3><p>ä¼˜åŒ–æ•ˆæœï¼šè®©O(2nlogn)å˜æˆO(nlogn)</p><p>è€è§„çŸ©å…ˆçœ‹ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">int i, m, p, w;n &#x3D; strlen(s + 1);m &#x3D; max(n, 128);for (int i &#x3D; 1; i &lt;&#x3D; n; i++)cnt[rk[i] &#x3D; s[i]]++;for (int i &#x3D; 1; i &lt;&#x3D; m; i++)cnt[i] +&#x3D; cnt[i - 1];for (int i &#x3D; n; i &gt;&#x3D; 1; i--)sa[cnt[rk[i]]--] &#x3D; i;for (w &#x3D; 1; w &lt; n; w &lt;&lt;&#x3D; 1) &#123;    memset(cnt, 0, sizeof(cnt));    memcpy(id, sa, sizeof(sa));    for (p &#x3D; 0, i &#x3D; n; i &gt; n - w; --i) id[++p] &#x3D; i;    for (i &#x3D; 1; i &lt;&#x3D; n; ++i) if (sa[i] &gt; w) id[++p] &#x3D; sa[i] - w;    memset(cnt, 0, sizeof(cnt));    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)cnt[rk[sa[i]]]++;    for (int i &#x3D; 1; i &lt;&#x3D; m; i++)cnt[i] +&#x3D; cnt[i - 1];    for (int i &#x3D; n; i &gt;&#x3D; 1; i--)sa[cnt[rk[id[i]]]--] &#x3D; id[i];    memcpy(oldrk, rk, sizeof(rk));    for (p &#x3D; 0, i &#x3D; 1; i &lt;&#x3D; n; i++) oldrk[sa[i]] &#x3D;&#x3D; oldrk[sa[i - 1]] &amp;&amp; oldrk[sa[i] + w] &#x3D;&#x3D; oldrk[sa[i - 1] + w]? rk[sa[i]] &#x3D; p: rk[sa[i]] &#x3D; ++p;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ä¸»è¦å°†é’ˆå¯¹ç¬¬äºŒå…³é”®å­—çš„è®¡æ•°æ’åºä¿®æ”¹ä¸ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">memcpy(id, sa, sizeof(sa));for (p &#x3D; 0, i &#x3D; n; i &gt; n - w; --i) id[++p] &#x3D; i;for (i &#x3D; 1; i &lt;&#x3D; n; ++i) if (sa[i] &gt; w) id[++p] &#x3D; sa[i] - w;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>å¹¶å»æ‰é’ˆå¯¹ç¬¬ä¸€å…³é”®å­—çš„è®¡æ•°æ’åºçš„idæ•°ç»„åˆå§‹åŒ–ï¼ˆå‡å°‘ä¸€æ¬¡èµ‹å€¼ï¼‰ã€‚</p><h4 id="å°†saæ•°ç»„ä¸­ï¼Œç¬¬äºŒå…³é”®å­—ä¸º0çš„å…ƒç´ æ‹¿å‡ºæ¥ï¼Œæ”¾åˆ°idæ•°ç»„çš„æœ€å¼€å§‹"><a href="#å°†saæ•°ç»„ä¸­ï¼Œç¬¬äºŒå…³é”®å­—ä¸º0çš„å…ƒç´ æ‹¿å‡ºæ¥ï¼Œæ”¾åˆ°idæ•°ç»„çš„æœ€å¼€å§‹" class="headerlink" title="å°†saæ•°ç»„ä¸­ï¼Œç¬¬äºŒå…³é”®å­—ä¸º0çš„å…ƒç´ æ‹¿å‡ºæ¥ï¼Œæ”¾åˆ°idæ•°ç»„çš„æœ€å¼€å§‹"></a>å°†saæ•°ç»„ä¸­ï¼Œç¬¬äºŒå…³é”®å­—ä¸º0çš„å…ƒç´ æ‹¿å‡ºæ¥ï¼Œæ”¾åˆ°idæ•°ç»„çš„æœ€å¼€å§‹</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (p &#x3D; 0, i &#x3D; n; i &gt; n - w; --i) id[++p] &#x3D; i;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è¿™äº›å…ƒç´ ä¸ä¼šå­˜åœ¨ç¬¬äºŒå…³é”®å­—ï¼ˆæˆ–ç§°ç¬¬äºŒå…³é”®å­—ä¸º0ï¼‰ï¼Œæ‰€ä»¥è¿™å‡ ä¸ªå…ƒç´ æœ¬èº«å°±æ˜¯ç”¨äºä¸‹ä¸€æ¬¡è®¡æ•°æ’åºçš„ç¬¬ä¸€å…³é”®å­—äº†ã€‚</p><p>å› ä¸ºè¿™äº›å…ƒç´ çš„ç¬¬äºŒå…³é”®å­—ä¸º0ï¼Œè¿™äº›å…ƒç´ åœ¨ä¼˜åŒ–å‰çš„ç¬¬ä¸€æ¬¡è®¡æ•°æ’åºå®Œæˆåï¼Œéƒ½æ˜¯ç›´æ¥æ’åœ¨æœ€å¼€å§‹çš„è¿ç»­ä½ç½®ã€‚ï¼ˆè¿ç»­é•¿åº¦ä¸ºwï¼‰ã€‚</p><p>ä»ä¸‹ä¸€æ¬¡è®¡æ•°æ’åºçš„è§†è§’è®²ï¼Œä¸‹ä¸€æ¬¡è®¡æ•°æ’åºåªæ˜¯åœ¨ä¸Šä¸€æ¬¡ç»™å‡ºçš„æœ‰åºæ€§çš„åŸºç¡€ä¸Šè¿›è¡Œã€‚ä½†æ˜¯å¯¹äºå‰é¢è¿™å‡ ä¸ªå…ƒç´ æ¥è®²ï¼Œå®ƒä»¬ç¬¬äºŒå…³é”®å­—å¯¹åº”çš„rankä¸€å®šéƒ½æ˜¯0ï¼Œå³è®¤ä¸ºç›¸ç­‰ã€‚ï¼ˆå› ä¸ºè¿™äº›ç¬¬äºŒå…³é”®å­—çš„ä¸‹æ ‡å·²ç»å¤§äºnäº†ã€‚è€Œrkæ•°ç»„åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå…¶&gt;nçš„éƒ¨åˆ†éƒ½æ˜¯0.ï¼‰</p><p>å› ä¸ºrkä¸­è¿™äº›ç¬¬äºŒå…³é”®å­—éƒ½æ˜¯0ï¼Œæ‰€ä»¥åœ¨åç»­ç”Ÿæˆæ–°çš„rkæ•°ç»„æ—¶ï¼Œå‡¡æ˜¯æåˆ°å®ƒä»¬çš„ç¬¬äºŒå…³é”®å­—çš„rkï¼Œæ°¸è¿œéƒ½æ˜¯æ’ç­‰äº0çš„å€¼ã€‚</p><p>å›æƒ³è¿™æ®µç”Ÿæˆæ–°rkæ•°ç»„çš„ç®—æ³•:</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (p &#x3D; 0, i &#x3D; 1; i &lt;&#x3D; n; i++) oldrk[sa[i]] &#x3D;&#x3D; oldrk[sa[i - 1]] &amp;&amp; oldrk[sa[i] + w] &#x3D;&#x3D; oldrk[sa[i - 1] + w]? rk[sa[i]] &#x3D; p: rk[sa[i]] &#x3D; ++p;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ˜¾ç„¶ï¼Œè¿™ä¸ªæ¡ä»¶ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">oldrk[sa[i] + w] &#x3D;&#x3D; oldrk[sa[i - 1] + w]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ˜¯æ»¡è¶³çš„ã€‚å› ä¸ºéƒ½æ˜¯0.</p><p>åˆ™æ— è®ºè¿™äº›å…ƒç´ çš„ç¬¬ä¸€å…³é”®å­—å¦‚ä½•æ’åˆ—ï¼Œéƒ½ä¸ä¼šå½±å“å®ƒä»¬ç”Ÿæˆrkæ•°ç»„æ—¶ï¼Œå…³äºâ€ç›¸ç­‰â€œçš„åˆ¤æ–­ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»»æ„æŠŠä»–ä»¬æ’åˆ—åœ¨saçš„å¤´wä¸ªä½ç½®ï¼Œå®ƒä»¬æ’åˆ—çš„æƒ…å†µæœ‰å®ƒä»¬çš„å…¨æ’åˆ—æ•°ç§ã€‚</p><p>è¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬é‡‡ç”¨é™åºæ’åˆ—åœ¨è¿™é‡Œã€‚</p><h4 id="å°†å‰©ä¸‹çš„å­ä¸²èµ·å§‹ä¸‹æ ‡æŒ‰åœ¨saå†…çš„é¡ºåºï¼Œåæ¨å‡ºå…¶ç¬¬ä¸€å…³é”®å­—ä¸‹æ ‡ï¼Œä¾æ¬¡æ”¾è¿›id"><a href="#å°†å‰©ä¸‹çš„å­ä¸²èµ·å§‹ä¸‹æ ‡æŒ‰åœ¨saå†…çš„é¡ºåºï¼Œåæ¨å‡ºå…¶ç¬¬ä¸€å…³é”®å­—ä¸‹æ ‡ï¼Œä¾æ¬¡æ”¾è¿›id" class="headerlink" title="å°†å‰©ä¸‹çš„å­ä¸²èµ·å§‹ä¸‹æ ‡æŒ‰åœ¨saå†…çš„é¡ºåºï¼Œåæ¨å‡ºå…¶ç¬¬ä¸€å…³é”®å­—ä¸‹æ ‡ï¼Œä¾æ¬¡æ”¾è¿›id"></a>å°†å‰©ä¸‹çš„å­ä¸²èµ·å§‹ä¸‹æ ‡æŒ‰åœ¨saå†…çš„é¡ºåºï¼Œåæ¨å‡ºå…¶ç¬¬ä¸€å…³é”®å­—ä¸‹æ ‡ï¼Œä¾æ¬¡æ”¾è¿›id</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (i &#x3D; 1; i &lt;&#x3D; n; ++i) if (sa[i] &gt; w) id[++p] &#x3D; sa[i] - w;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è¿™é‡Œçš„è¿™äº›èµ·å§‹ä¸‹æ ‡åœ¨saä¸­ï¼Œæ„å‘³ç€å®ƒä»¬æ˜¯ä»¥ä¸Šä¸€è½®åŸºæ•°æ’åºçš„é¡ºåºæ’åˆ—ï¼ˆå•è°ƒä¸é™ï¼‰ã€‚</p><p>æˆ‘ä»¬éœ€è¦åœ¨è¿™äº›ä¸‹æ ‡ä¸­æ‰¾åˆ°æœ‰å¯èƒ½æˆä¸ºç¬¬äºŒå…³é”®å­—çš„ä¸‹æ ‡ï¼Œå³ç­›é€‰æ¡ä»¶ä¸ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">if (sa[i] &gt; w)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æŒ‰è¿™äº›ç¬¬äºŒå…³é”®å­—çš„ä¸‹æ ‡ï¼Œåæ¨å…¶ç¬¬ä¸€å…³é”®å­—çš„ä¸‹æ ‡ï¼Œå¹¶å°†è¿™äº›ä¸‹æ ‡æ”¾åˆ°idä¸­ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">id[++p] &#x3D; sa[i] - w;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è¿™å°±ç›¸å½“äºï¼Œå½“å‰idä¸­ä¿å­˜äº†æ‰€æœ‰ç¬¬ä¸€å…³é”®å­—æŒ‰å…¶ç¬¬äºŒå…³é”®å­—è¿›è¡Œå•è°ƒä¸é™çš„æ’åºçš„ç»“æœã€‚</p><p>æˆ‘ä»¬å¦‚æœå†è¿›è¡Œä¸€æ¬¡å•è°ƒä¸é™çš„è®¡æ•°æ’åºï¼Œå°±å¾—åˆ°äº†å­ä¸²é•¿åº¦ä¸ºwçš„saæ•°ç»„ã€‚</p><h3 id="å¸¸æ•°ä¼˜åŒ–ï¼šä¼˜åŒ–è®¡æ•°æ’åºæ—¶å…³é”®å­—çš„å€¼åŸŸ"><a href="#å¸¸æ•°ä¼˜åŒ–ï¼šä¼˜åŒ–è®¡æ•°æ’åºæ—¶å…³é”®å­—çš„å€¼åŸŸ" class="headerlink" title="å¸¸æ•°ä¼˜åŒ–ï¼šä¼˜åŒ–è®¡æ•°æ’åºæ—¶å…³é”®å­—çš„å€¼åŸŸ"></a>å¸¸æ•°ä¼˜åŒ–ï¼šä¼˜åŒ–è®¡æ•°æ’åºæ—¶å…³é”®å­—çš„å€¼åŸŸ</h3><p>è¯¥ä¼˜åŒ–é’ˆå¯¹è§„æ¨¡è¾ƒå¤§çš„æºæ•°ç»„æ¯”è¾ƒæœ‰ç”¨ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (w &#x3D; 1; w &lt; n; w &lt;&lt;&#x3D; 1ï¼Œm &#x3D; p) <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å³ï¼šåœ¨forå¾ªç¯çš„æ“ä½œä¸­ï¼Œæ¯æ¬¡å°†mæ›´æ–°ä¸ºpã€‚</p><p>å› ä¸ºæ¯è½®ç”Ÿæˆæ–°çš„RKæ•°ç»„æ—¶ï¼Œpéƒ½è¢«æ›´æ–°ä¸ºå½“å‰RKæ•°ç»„çš„å€¼åŸŸã€‚</p><p>åˆå› ä¸ºè®¡æ•°æ’åºæ˜¯å¯¹RKæ•°ç»„çš„å…ƒç´ è¿›è¡Œè®¡æ•°ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥é™ä½è®¡æ•°å¾ªç¯çš„å¾ªç¯æ¬¡æ•°ä¸Šé™ã€‚</p><p>ä¾‹å¦‚ï¼šæºæ•°ç»„ä¸º1e5çš„é•¿åº¦ï¼Œé‚£å¦‚æœä¸ä¼˜åŒ–ï¼Œæ¯æ¬¡éƒ½è¦å¾ªç¯1e5å»è®¡æ•°ï¼Œè¿™è¿˜æ²¡åŒ…æ‹¬å…¶ä»–æ“ä½œå‘¢ã€‚1msæ˜¾ç„¶ä¸å¤Ÿç¨‹åºè·‘å®Œã€‚ä½†æ˜¯å¦‚æœä¼˜åŒ–äº†ï¼Œåˆšå¼€å§‹ç”±äºRKæ•°ç»„è¾ƒå°ï¼Œmä¹Ÿå°±å°ï¼Œè®¡æ•°å¾ªç¯ä¹Ÿå°±åˆ°ä¸äº†1e5çš„çº§åˆ«ã€‚</p><h3 id="æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘ä¸è¿ç»­çš„è®¿å­˜"><a href="#æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘ä¸è¿ç»­çš„è®¿å­˜" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘ä¸è¿ç»­çš„è®¿å­˜"></a>æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘ä¸è¿ç»­çš„è®¿å­˜</h3><p>è¯¥ä¼˜åŒ–é’ˆå¯¹è§„æ¨¡è¾ƒå¤§çš„æºæ•°ç»„æ¯”è¾ƒæœ‰ç”¨ã€‚</p><p>æˆ‘ä»¬æ ¼å¤–ç»´æŠ¤ä¸€ä¸ªpx[]æ•°ç»„ï¼Œå¤§å°å’Œrkç›¸ç¬¦ï¼Œä»¤å…¶æ»¡è¶³px[i]=rk[id[i]].</p><p>åœ¨è®¡æ•°æ—¶ï¼Œé¡ºä¾¿æŠŠrk[id[i]]å­˜ç»™px[i]ï¼Œå¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (i &#x3D; 1; i &lt;&#x3D; n; ++i) ++cnt[px[i] &#x3D; rk[id[i]]];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>åœ¨åç»­è®¿é—®æ—¶ï¼Œéƒ½å°†rk[id[i]]ç”¨px[i]ä»£æ›¿å³å¯ï¼Œå¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">for (i &#x3D; n; i &gt;&#x3D; 1; --i) sa[cnt[px[i]]--] &#x3D; id[i];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ æ‹‰é¢é¦†é¢˜è§£ (ç¼–ç å’Œä½è¿ç®—)</title>
    <link href="/2021/04/09/SDUOJ%20-%205/"/>
    <url>/2021/04/09/SDUOJ%20-%205/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>é¦–å…ˆå®šä¹‰tã€sæ•°ç»„ï¼Œåˆ†åˆ«ç”¨äºå­˜å‚¨é¢åˆ¶ä½œå®Œæˆçš„æ—¶é—´ç‚¹å’Œé¡¾å®¢åˆ°è¾¾çš„æ—¶é—´ç‚¹ã€‚</p><p>å®šä¹‰set stçš„æ•°ç»„ï¼Œå¤§å°ä¸º8ï¼ˆå³8ä¸ªsetæ„æˆçš„setæ•°ç»„ï¼‰ï¼Œç”¨äºå­˜å‚¨æ¯ç§é¢ï¼ˆä¸€ç§è°ƒæ–™ç»„åˆå°±è¢«ç§°ä¸ºâ€ä¸€ç§â€é¢ï¼‰åˆ¶ä½œå®Œæˆçš„æ—¶é—´ã€‚</p><h2 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a>ç®—æ³•æ€è·¯</h2><p>å…ˆè¾“å…¥nï¼Œmï¼Œkã€‚</p><p>æ¥ä¸‹æ¥å¼€å§‹å¾ªç¯å¤„ç†åˆ¶ä½œçš„é¢ï¼Œæ—¶é—´å¤æ‚åº¦O(n)ï¼šç”¨ä¸‰ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºé¢é‡Œè°ƒæ–™çš„æœ‰æ— ã€‚åˆå§‹ä¸º0ï¼Œå³000ã€‚ç„¶ååˆå§‹åŒ–ä¸€ä¸ªå½“å‰è°ƒæ–™ä¸º001.æ ¹æ®è¾“å…¥çš„è°ƒæ–™ç¼–å·ï¼Œå°†ä¸Šè¿°001äºŒè¿›åˆ¶æ•°å·¦ç§»å³å¯ã€‚æœ€åæ ¹æ®ä¸Šè¿°äºŒè¿›åˆ¶æ•°çš„å€¼å’Œ1-8ä¾æ¬¡åšæˆ–ï¼Œå¦‚æœæˆ–è¿ç®—ç­‰äºåè€…ï¼Œåˆ™è¯´æ˜è¯¥é¢å«æœ‰çš„è°ƒæ–™ç§ç±»æ˜¯åè€…çš„å­é›†ã€‚å°†è¯¥ç¢—é¢åˆ¶ä½œå®Œæˆçš„æ—¶é—´æ”¾è¿›stä¸­ã€‚</p><p>æ¥ä¸‹æ¥å¾ªç¯å¤„ç†å®¢äººçš„åˆ°è¾¾ï¼Œæ—¶é—´å¤æ‚åº¦O(m*n): ç”¨å®Œå…¨ç›¸åŒçš„æ–¹å¼å¾—å‡ºå®¢äººéœ€è¦çš„é¢çš„äºŒè¿›åˆ¶æ•°ï¼Œå¹¶ä»sté›†åˆå¯¹åº”ä¸‹æ ‡ä¸­å–beginï¼ˆåˆ©ç”¨setçš„æœ‰åºæ€§å¾—åˆ°æœ€æ—©åˆ¶ä½œå®Œæˆçš„é¢ï¼‰ã€‚å¦‚æœsté›†åˆè¯¥ä¸‹æ ‡ä¸ºç©ºï¼Œä»£è¡¨éœ€è¦çš„é¢ä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡ºangryå³å¯ã€‚å¦åˆ™å­˜åœ¨ï¼Œåˆ™éœ€è¦åˆ é™¤è¿™ç¢—é¢ï¼šæ³¨æ„è¦å†éå†setæ•°ç»„ï¼ŒæŠŠå…¶ä¸­å…·æœ‰ä¸æ­¤ç›¸åŒåˆ¶ä½œæ—¶é—´çš„é¢åˆ é™¤ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;bits&#x2F;stdc++.h&gt;using namespace std;const int inf &#x3D; 200010;set&lt;int&gt; st[8];     int t[inf], s[inf]; &#x2F;&#x2F;t[i]:æ¯ç¢—é¢åˆ¶ä½œå®Œæˆçš„æ—¶é—´ç‚¹int main()&#123;    int n, m, k; &#x2F;&#x2F;n:åˆ¶ä½œçš„é¢çš„æ•°é‡ m:é¡¾å®¢çš„æ•°é‡ k:é…æ–™çš„ç§ç±»æ•°    cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)    &#123;        cin &gt;&gt; t[i];    &#125;    for (int i &#x3D; 1; i &lt;&#x3D; n; i++)    &#123;        int kk, v &#x3D; 0;            cin &gt;&gt; kk;        for (int j &#x3D; 1; j &lt;&#x3D; kk; j++)        &#123;            int x; &#x2F;&#x2F;è¯¥ç¢—é¢å«æœ‰çš„é…æ–™ç¼–å·            cin &gt;&gt; x;            v |&#x3D; (1 &lt;&lt; (x - 1));         &#125;        for (int j &#x3D; 1; j &lt; 8; j++)        &#123;            if ((v &amp; j) &#x3D;&#x3D; j)             &#123;                st[j].emplace(t[i]);             &#125;        &#125;    &#125;    for (int i &#x3D; 1; i &lt;&#x3D; m; i++)    &#123;        cin &gt;&gt; s[i];     &#125;    for (int i &#x3D; 1; i &lt;&#x3D; m; i++)    &#123;        int cc, v &#x3D; 0; &#x2F;&#x2F;cc:å®¢äººå–œçˆ±é…æ–™çš„ç§ç±»æ•°        cin &gt;&gt; cc;        for (int j &#x3D; 1; j &lt;&#x3D; cc; j++)        &#123;            int x;            cin &gt;&gt; x;            v |&#x3D; (1 &lt;&lt; (x - 1));         &#125; &#x2F;&#x2F; ä»£è¡¨è¯¥å®¢äººå–œæ¬¢åƒçš„é…æ–™            if (st[v].empty())     &#x2F;&#x2F;è¯¥å®¢äººå–œæ¬¢åƒçš„é…æ–™æ²¡æœ‰å¯¹åº”çš„é¢            &#123;                cout &lt;&lt; &quot;Angry\n&quot;;            &#125;            else            &#123;                int vv &#x3D; *st[v].rbegin();    &#x2F;                cout &lt;&lt; (s[i] - vv) &lt;&lt; &#39;\n&#39;;                 for (int j &#x3D; 1; j &lt; 8; j++)                &#123;                    st[j].erase(vv);                 &#125;            &#125;    &#125;    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ çœ‹ç”µå½±é¢˜è§£ï¼ˆæµæ°´çº¿è°ƒåº¦é—®é¢˜ï¼‰</title>
    <link href="/2021/04/09/SDUOJ%20-%206/"/>
    <url>/2021/04/09/SDUOJ%20-%206/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>é¦–å…ˆå®šä¹‰personç»“æ„ä½“ï¼Œå­˜å‚¨aã€bã€‚</p><p>é‡è½½å°äºè¿ç®—ç¬¦ï¼Œä½¿è¯¥ç»“æ„ä½“çš„æ’åºè§„åˆ™ç¬¦åˆJohnsonæ³•åˆ™ã€‚</p><h2 id="Johnsonæ³•åˆ™"><a href="#Johnsonæ³•åˆ™" class="headerlink" title="Johnsonæ³•åˆ™"></a>Johnsonæ³•åˆ™</h2><p>å¯¹ä¸€ä¸ªäººï¼Œå¦‚æœå®ƒçš„Aæ—¶é—´&lt;=Bæ—¶é—´ï¼Œåˆ™ä¸å…¶åŒç±»çš„æ’åºè§„åˆ™æ˜¯æŒ‰aå‡åºï¼›å¦‚æœå®ƒçš„Aæ—¶é—´&lt;Bæ—¶é—´ï¼Œåˆ™ä¸åŒç±»çš„æ’åºè§„åˆ™æ˜¯æŒ‰bé™åºã€‚æœ€åï¼Œå°†ä¸Šè¿°åä¸€ç±»äººè¿æ¥åˆ°å‰ä¸€ç±»äººçš„æœ«å°¾ï¼Œç»„æˆçš„æ•´ä¸ªåºåˆ—å°±æ˜¯æœ€ä¼˜çš„æµæ°´çº¿è°ƒåº¦åºåˆ—ã€‚</p><h2 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a>ç®—æ³•æ€è·¯</h2><p>æ ¹æ®Johnsonæ³•åˆ™æ„é€ ä¸€ä¸ªæœ€ä¼˜åºåˆ—ï¼ŒæŒ‰å¦‚ä¸‹ç®—æ³•è®¡ç®—æ€»æ—¶é—´å³å¯ï¼š</p><p>å¯¹äºAå½±é™¢ï¼Œæ— è„‘ç´¯åŠ æ—¶é—´ï¼Œå¹¶è®°å½•æ¯ä¸ªäººè§‚å½±ç»“æŸæ—¶é—´ã€‚</p><p>å¯¹äºBå½±é™¢ï¼Œå¦‚æœå½“å‰ç´¯è®¡æ—¶é—´å°äºä¸‹ä¸€ä¸ªè¦æ¥Bçœ‹ç”µå½±çš„äººåœ¨Açš„ç»“æŸæ—¶é—´ï¼Œå°±è®©å½“å‰ç´¯è®¡æ—¶é—´ç›´æ¥ç­‰äºè¯¥äººåœ¨Açš„ç»“æŸæ—¶é—´ã€‚ä¹‹åæŠŠè¯¥äººåœ¨Bçœ‹ç”µå½±çš„èŠ±è´¹æ—¶é—´å†ç´¯åŠ ä¸Šå»å³å¯ã€‚</p><p>æœ€åè¾“å‡ºAå½±é™¢æ—¶é—´ç´¯è®¡å’ŒBå½±é™¢æ—¶é—´ç´¯è®¡çš„è¾ƒå¤§çš„ä¸€ä¸ªã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;unordered_map&gt;#include &lt;set&gt;#include &lt;iostream&gt;using namespace std;const int INF &#x3D; 1e9;struct Person&#123;int a &#x3D; 1, b &#x3D; 1;bool isA;Person(int a_, int b_, bool isA_) :a(a_), b(b_), isA(isA_) &#123;&#125;;bool operator&lt;(const Person&amp; p) const &#123;if (isA) return a &lt; p.a;return b &gt; p.b;&#125;&#125;;int n;unordered_map&lt;int, int&gt;a, b;vector&lt;Person&gt; peopleA;vector&lt;Person&gt; peopleB;vector&lt;int&gt; aEnd;int aTimeAcc &#x3D; 0, bEnd &#x3D; 0, bCntr &#x3D; 0;int main() &#123;&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;,&quot;r&quot;,stdin);&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);cin &gt;&gt; n;for (int i &#x3D; 1; i &lt;&#x3D; n; i++)cin &gt;&gt; a[i];for (int i &#x3D; 1; i &lt;&#x3D; n; i++)cin &gt;&gt; b[i];for (int i &#x3D; 1; i &lt;&#x3D; n; i++)a[i] &lt;&#x3D; b[i] ? peopleA.emplace_back(a[i], b[i], true) : peopleB.emplace_back(a[i], b[i], false);sort(peopleA.begin(), peopleA.end());sort(peopleB.begin(), peopleB.end());for (auto ite &#x3D; peopleA.begin(); ite !&#x3D; peopleA.end(); ite++) &#123;aTimeAcc +&#x3D; ite-&gt;a;aEnd.push_back(aTimeAcc);&#125;for (auto ite &#x3D; peopleB.begin(); ite !&#x3D; peopleB.end(); ite++) &#123;aTimeAcc +&#x3D; ite-&gt;a;aEnd.push_back(aTimeAcc);&#125;for (auto ite &#x3D; peopleA.begin(); ite !&#x3D; peopleA.end(); ite++) &#123;if (bEnd &lt; aEnd[bCntr]) bEnd &#x3D; aEnd[bCntr];bEnd +&#x3D; ite-&gt;b;bCntr++;&#125;for (auto ite &#x3D; peopleB.begin(); ite !&#x3D; peopleB.end(); ite++) &#123;if (bEnd &lt; aEnd[bCntr]) bEnd &#x3D; aEnd[bCntr];bEnd +&#x3D; ite-&gt;b;bCntr++;&#125;cout &lt;&lt; max(bEnd, aTimeAcc) &lt;&lt; endl;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SDUOJ æ‘†æ”¾åƒåœ¾æ¡¶é¢˜è§£ (ç®€å•è´ªå¿ƒ)</title>
    <link href="/2021/04/09/SDUOJ%20-%207/"/>
    <url>/2021/04/09/SDUOJ%20-%207/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>é¦–å…ˆå®šä¹‰struct requirementï¼Œå…¶ä¸­å­˜æ”¾æ¯ä¸ªè¦æ±‚çš„lã€rã€kã€‚</p><p>å®šä¹‰exsistï¼Œå½“å‰åŒºé—´å­˜åœ¨çš„åƒåœ¾æ¡¶ä¸ªæ•°ã€‚</p><p>ansï¼Œè¾“å‡ºç»“æœã€‚</p><p>map stsï¼Œç”¨äºæ¨¡æ‹Ÿæ•°ç»„ï¼Œç»™å‡ºæ¯ä¸ªä¸‹æ ‡å¤„æ˜¯å¦æœ‰åƒåœ¾æ¡¶ã€‚</p><h2 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a>ç®—æ³•æ€è·¯</h2><p>å…ˆè¾“å…¥å¹¶æ„é€ å„ä¸ªè¦æ±‚ã€‚</p><p>å¯¹äºæ¯ä¸ªè¦æ±‚ï¼Œå…ˆä»è¯¥è¦æ±‚çš„léå†åˆ°rï¼Œæ”¶é›†è¿™æ®µåŒºé—´å†…åƒåœ¾æ¡¶æ€»ä¸ªæ•°ï¼ˆå¤Ÿäº†kå°±åŠæ—¶ç»ˆæ­¢ã€‚ï¼‰æ—¶é—´å¤æ‚åº¦Oï¼ˆnï¼‰ã€‚</p><p>ä¹‹åï¼Œå¦‚æœåƒåœ¾æ¡¶ä¸å¤Ÿï¼Œå°±ä»rå¾€léå†ï¼Œå¦‚æœæ”¾äº†æ¡¶å°±è·³è¿‡ï¼Œå¦‚æœæ²¡æ”¾è¿‡æ¡¶å°±ans++ï¼Œå¹¶ä¸”æ›´æ–°æ­¤å¤„çš„stsä¸ºtrueï¼Œå¹¶è®©exist++ï¼Œä»£è¡¨è¯¥åŒºé—´åˆå¤šäº†ä¸€ä¸ªæ¡¶ã€‚å¦‚æœexistå¤Ÿäº†kï¼Œåˆ™åŠæ—¶ç»ˆæ­¢ã€‚æ—¶é—´å¤æ‚åº¦Oï¼ˆnï¼‰ã€‚</p><p>è¾“å‡ºç»“æœå³å¯ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><div class="code-wrapper"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;unordered_map&gt;#include &lt;set&gt;#include &lt;iostream&gt;using namespace std;int INF &#x3D; 1e9;struct requirment&#123;int l;int r;int k;bool operator&lt; (requirment re)const &#123;return r &lt; re.r;&#125;requirment(int l_, int r_, int k_) :l(l_), r(r_), k(k_) &#123;&#125;&#125;;int n, m;int l, r, k;int exsist, ans;unordered_map&lt;int, bool&gt; sts;multiset&lt;requirment&gt; inputs;int main() &#123;&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.in&quot;,&quot;r&quot;,stdin);&#x2F;&#x2F;freopen(&quot;C:\\Users\\Lenovo\\Desktop\\a.out&quot;, &quot;w&quot;, stdout);cin &gt;&gt; n &gt;&gt; m;for (int yq &#x3D; 1; yq &lt;&#x3D; m; yq++) &#123;scanf(&quot;%d %d %d&quot;, &amp;l, &amp;r, &amp;k);inputs.emplace(l, r, k);&#125;&#x2F;&#x2F;sort(inputs.begin(), inputs.end());for (auto ite &#x3D; inputs.begin(); ite !&#x3D; inputs.end(); ite++) &#123;exsist &#x3D; 0;for (int i &#x3D; ite-&gt;r; i &gt;&#x3D; ite-&gt;l; i--) if (sts[i]) &#123;exsist++;if (exsist &gt;&#x3D; ite-&gt;k)break;&#125;if (exsist &lt; ite-&gt;k) &#123;for (int i &#x3D; ite-&gt;r; i &gt;&#x3D; ite-&gt;l; i--) &#123;if (exsist &gt;&#x3D; ite-&gt;k)break;if (!sts[i]) &#123;sts[i] &#x3D; true;exsist++;ans++;&#125;&#125;&#125;&#125;cout &lt;&lt; ans &lt;&lt; endl;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hello everyone</title>
    <link href="/2021/03/15/hello-everyone/"/>
    <url>/2021/03/15/hello-everyone/</url>
    
    <content type="html"><![CDATA[<h3 id="ç¬¬ä¸€ç¯‡åšå®¢"><a href="#ç¬¬ä¸€ç¯‡åšå®¢" class="headerlink" title="ç¬¬ä¸€ç¯‡åšå®¢"></a>ç¬¬ä¸€ç¯‡åšå®¢</h3><p>å“ˆå“ˆå“ˆï¼è¿™é‡Œæ˜¯ç¬¬ä¸€ç¯‡åšå®¢~å—¯ã€‚</p><p>è¿™æ¬¡è¿æ¥åˆ°äº†åŸŸå~</p>]]></content>
    
    
    <categories>
      
      <category>æ‚è°ˆ</category>
      
      <category>æµ‹è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ‚è°ˆ</tag>
      
      <tag>æµ‹è¯•</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
